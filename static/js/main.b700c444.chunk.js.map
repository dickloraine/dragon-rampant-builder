{"version":3,"sources":["components/ShowFeedback.js","components/SimpleDialog.js","components/LoadList.js","components/SaveList.js","components/DeleteList.js","components/ExportList.js","components/ImportList.js","components/SideMenu.js","components/AppBar.js","components/Unit/UnitSelector.js","components/Unit/Options.js","components/Unit/FantasticalRules.js","components/Unit/StatBlock.js","components/Unit/SpecialRules.js","components/Unit/Unit.js","components/Roster.js","components/RulesSummary.js","components/SpellTable.js","helpers/utils.js","components/Statistics/UnitDistributionChart.js","components/Statistics/PointDistributionChart.js","components/Statistics/Statistics.js","components/App.js","serviceWorker.js","index.js"],"names":["Alert","props","elevation","variant","ShowFeedback","feedback","setFeetback","handleClose","event","reason","open","Snackbar","autoHideDuration","onClose","severity","message","SimpleDialog","selectedValue","options","title","Dialog","DialogTitle","List","map","value","ListItem","button","onClick","handleListItemClick","key","LoadList","setRoster","setForceInputUpdate","showFeedback","showText","React","useState","setOpen","handleClickOpen","loadList","name","store","get","Tooltip","IconButton","color","Typography","savedLists","list","push","getSavedLists","SaveList","roster","saveRoster","set","saveList","DeleteList","removeList","ExportList","handleClick","text","jsonpack","navigator","clipboard","writeText","err","ImportList","listString","setListString","handleOpen","DialogContent","TextField","autoFocus","margin","id","label","type","fullWidth","onChange","e","target","DialogActions","Button","SideMenu","toggleDrawer","Drawer","Divider","useStyles","makeStyles","theme","root","marginBottom","flexing","display","flexGrow","alignItems","flexingend","justifyContent","AppBar","ui","setUIOption","updateUI","armyCost","reload","classes","changeViewMode","clicked","newState","notClicked","newStates","ToggleUIButton","option","Icon","fontSize","className","position","Toolbar","Hidden","smDown","mdUp","VisibilityIcon","EditIcon","Fab","size","UnitSelector","points","Chip","Options","unit","optionsData","Object","keys","length","handleChange","newUnit","checked","filter","val","FormControl","component","style","marginTop","FormLabel","FormGroup","FormControlLabel","control","Checkbox","includes","FantasticalRules","unitData","fantasticalRulesData","fantasticalRules","toCheck","slice","excluded","v","width","height","Select","onOpen","IconComponent","Box","multiple","input","Input","renderValue","MenuItem","indexOf","StatBlock","stats","shooting","shoot","shootingValue","shootValue","shootRange","TableContainer","Table","xsDown","TableBody","TableRow","TableCell","attack","attackValue","move","defenceValue","courage","movement","armour","strengthPoints","smUp","SpecialRules","rules","Container","r","Unit","updateUnit","data","setUnit","removeUnit","setStats","entries","add","rule","remove","fant","Card","minWidth","CardHeader","unitName","unitNames","action","CardContent","editMode","viewMode","Roster","updateRoster","newAttributes","units","unitOrder","flexDirection","flexWrap","marginLeft","nextID","RulesSummary","specialRules","rulesData","rulesSummaryExpanded","ExpansionPanel","expanded","maxWidth","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","ListItemText","primary","secondary","SpellTable","spellsExpanded","spellData","spellcasterInRoster","TableHead","align","values","spell","scope","difficulty","duration","effect","objFilter","obj","fun","filtered","k","objReduce","acc","reduce","UnitDistributionChart","colors","top","right","left","bottom","strokeDasharray","dataKey","fill","minPointSize","PointDistributionChart","renderCustomizedLabel","labelLine","outerRadius","entry","index","RADIAN","Math","PI","cx","cy","midAngle","innerRadius","percent","radius","x","cos","y","sin","percentValue","toFixed","textAnchor","dominantBaseline","Statistics","statisticsExpanded","optionPoints","accumulator","fantasticalPoints","COLORS","totalPoints","unitCount","mounted","u","foot","ranged","unitsCost","dataUnitTypes","Units","Points","dataPoints","marginRight","toPrecision","App","initialRoster","0","setUI","useReducer","state","forceInputUpdate","setFeedback","useEffect","Set","sort","getSpecialRules","border","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b700c444.chunk.js","sourcesContent":["import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nconst Alert = props => <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n\r\nconst ShowFeedback = ({ feedback, setFeetback }) => {\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setFeetback({ ...feedback, open: false });\r\n  };\r\n\r\n  return (\r\n    <Snackbar open={feedback.open} autoHideDuration={6000} onClose={handleClose}>\r\n      <Alert onClose={handleClose} severity={feedback.severity}>\r\n        {feedback.message}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nexport default ShowFeedback;\r\n","import React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nexport default function SimpleDialog(props) {\r\n  const { onClose, selectedValue, open, options, title } = props;\r\n\r\n  const handleClose = () => onClose(selectedValue);\r\n  const handleListItemClick = value => onClose(value);\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open}>\r\n      <DialogTitle>{title}</DialogTitle>\r\n      <List>\r\n        {options.map(value => (\r\n          <ListItem button onClick={() => handleListItemClick(value)} key={value}>\r\n            {value}\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport SaveOutlinedIcon from '@material-ui/icons/SaveOutlined';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport SimpleDialog from './SimpleDialog';\r\nimport store from 'store';\r\n\r\nexport default function LoadList({\r\n  setRoster,\r\n  setForceInputUpdate,\r\n  showFeedback,\r\n  onClose = null,\r\n  showText = false\r\n}) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => setOpen(true);\r\n\r\n  const handleClose = value => {\r\n    setOpen(false);\r\n    if (value) loadList(value);\r\n    if (onClose) onClose();\r\n  };\r\n\r\n  const loadList = name => {\r\n    setRoster({ ...store.get('savedRosters')[name] });\r\n    setForceInputUpdate();\r\n    showFeedback(`${name} loaded!`, 'success');\r\n  };\r\n\r\n  const getSavedLists = () => {\r\n    const savedLists = [];\r\n    for (const list in store.get('savedRosters')) savedLists.push(list);\r\n    return savedLists;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Load List\">\r\n        <IconButton color=\"inherit\" onClick={handleClickOpen}>\r\n          <SaveOutlinedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={handleClickOpen}>Load List</Typography>}\r\n      <SimpleDialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        options={getSavedLists()}\r\n        title=\"Choose List to load\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport store from 'store';\r\n\r\nexport default function SaveList({\r\n  roster,\r\n  showFeedback,\r\n  onClose = null,\r\n  showText = false\r\n}) {\r\n  const saveList = () => {\r\n    if (roster.name === 'New List') return false;\r\n    let savedLists = store.get('savedRosters') || [];\r\n    savedLists = {\r\n      ...savedLists,\r\n      [roster.name]: { ...roster }\r\n    };\r\n    store.set('savedRosters', savedLists);\r\n    return true;\r\n  };\r\n\r\n  const saveRoster = () => {\r\n    if (saveList()) showFeedback('Saved!', 'success');\r\n    else showFeedback('You have to give the list a name!', 'error');\r\n    if (onClose) onClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Save List\">\r\n        <IconButton color=\"inherit\" onClick={saveRoster}>\r\n          <SaveIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={saveRoster}>Save List</Typography>}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport store from 'store';\r\nimport SimpleDialog from './SimpleDialog';\r\n\r\nexport default function DeleteList({ showFeedback, onClose = null, showText = false }) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => setOpen(true);\r\n\r\n  const handleClose = value => {\r\n    setOpen(false);\r\n    removeList(value);\r\n    if (value) showFeedback('Deleted!', 'success');\r\n    if (onClose) onClose();\r\n  };\r\n\r\n  const removeList = name => {\r\n    if (name === 'Delete all') store.set('savedRosters', []);\r\n    else {\r\n      let savedLists = store.get('savedRosters');\r\n      delete savedLists[name];\r\n      store.set('savedRosters', savedLists);\r\n    }\r\n  };\r\n\r\n  const getSavedLists = () => {\r\n    const savedLists = [];\r\n    for (const list in store.get('savedRosters')) savedLists.push(list);\r\n    savedLists.push('Delete all');\r\n    return savedLists;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Delete List\">\r\n        <IconButton color=\"inherit\" onClick={handleClickOpen}>\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={handleClickOpen}>Delete List</Typography>}\r\n      <SimpleDialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        options={getSavedLists()}\r\n        title=\"Choose List to delete\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport * as jsonpack from 'jsonpack/main';\r\n\r\nconst copyToClipboard = text => navigator.clipboard.writeText(text);\r\n\r\nconst ExportList = ({ roster, showFeedback, onClose = null, showText = false }) => {\r\n  const handleClick = () => {\r\n    const list = jsonpack.pack(roster);\r\n    try {\r\n      copyToClipboard(list);\r\n      showFeedback('List copied to clipboard!', 'success');\r\n    } catch (err) {\r\n      showFeedback('Could not export the list!', 'error');\r\n    }\r\n    if (onClose) onClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Share\">\r\n        <IconButton color=\"inherit\" onClick={handleClick}>\r\n          <ShareIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={handleClick}>Export List</Typography>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ExportList;\r\n","import React from 'react';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport {\r\n  Tooltip,\r\n  IconButton,\r\n  Typography,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  TextField,\r\n  Button\r\n} from '@material-ui/core';\r\nimport * as jsonpack from 'jsonpack/main';\r\n\r\nconst ImportList = ({\r\n  setRoster,\r\n  setForceInputUpdate,\r\n  showFeedback,\r\n  onClose = null,\r\n  showText = false\r\n}) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [listString, setListString] = React.useState();\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => {\r\n    if (onClose) onClose();\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleImport = () => {\r\n    if (!listString) return;\r\n    try {\r\n      const list = jsonpack.unpack(listString);\r\n      setRoster({ ...list });\r\n      setForceInputUpdate();\r\n      showFeedback('List imported!', 'success');\r\n    } catch (err) {\r\n      showFeedback('Could not import the list!', 'error');\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Import list\">\r\n        <IconButton color=\"inherit\" onClick={handleOpen}>\r\n          <GetAppIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={handleOpen}>Import list</Typography>}\r\n      <Dialog onClose={handleClose} open={open}>\r\n        <DialogTitle>Enter the import string</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"importstring\"\r\n            label=\"Exported String\"\r\n            type=\"text\"\r\n            fullWidth\r\n            onChange={e => setListString(e.target.value)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleImport} color=\"primary\">\r\n            Import\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImportList;\r\n","import React from 'react';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { List, ListItem, Drawer, Divider } from '@material-ui/core';\r\nimport LoadList from './LoadList';\r\nimport SaveList from './SaveList';\r\nimport DeleteList from './DeleteList';\r\nimport ExportList from './ExportList';\r\nimport ImportList from './ImportList';\r\n\r\nexport default function SideMenu({\r\n  roster,\r\n  setRoster,\r\n  setForceInputUpdate,\r\n  showFeedback\r\n}) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const toggleDrawer = open => event => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n    setOpen(open);\r\n  };\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <MenuIcon onClick={toggleDrawer(true)} />\r\n      <Drawer open={open} onClose={toggleDrawer(false)}>\r\n        <List>\r\n          <ListItem button key={'Save'}>\r\n            <SaveList\r\n              roster={roster}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <ListItem button key={'Load'}>\r\n            <LoadList\r\n              setRoster={setRoster}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <ListItem button key={'Delete'}>\r\n            <DeleteList\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <Divider />\r\n          <ListItem button key={'Export'}>\r\n            <ExportList\r\n              roster={roster}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <ListItem button key={'Import'}>\r\n            <ImportList\r\n              setRoster={setRoster}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { AppBar as AppBarMaterial } from '@material-ui/core';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { IconButton, Fab, Tooltip, Hidden } from '@material-ui/core';\r\nimport LoadList from './LoadList';\r\nimport SaveList from './SaveList';\r\nimport SideMenu from './SideMenu';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    marginBottom: 25\r\n  },\r\n\r\n  flexing: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    alignItems: 'center'\r\n  },\r\n\r\n  flexingend: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center'\r\n  }\r\n}));\r\n\r\nexport default function AppBar({\r\n  roster,\r\n  ui,\r\n  setUIOption,\r\n  updateUI,\r\n  armyCost,\r\n  setRoster,\r\n  setForceInputUpdate,\r\n  showFeedback,\r\n  reload\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const changeViewMode = (clicked, newState) => {\r\n    const notClicked = clicked === 'viewMode' ? 'editMode' : 'viewMode';\r\n    let newStates = { [clicked]: newState };\r\n    if (newState) newStates = { ...newStates, [notClicked]: false };\r\n    updateUI(newStates);\r\n  };\r\n\r\n  const ToggleUIButton = ({ option, Icon, title, onClick = setUIOption }) => {\r\n    return (\r\n      <Tooltip title={title}>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          onClick={() => {\r\n            onClick(option, !ui[option]);\r\n          }}\r\n        >\r\n          <Icon fontSize=\"small\" color={ui[option] ? 'inherit' : 'disabled'} />\r\n        </IconButton>\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBarMaterial position=\"fixed\">\r\n        <Toolbar>\r\n          <div className={classes.flexing}>\r\n            <SideMenu\r\n              roster={roster}\r\n              setRoster={setRoster}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n              showFeedback={showFeedback}\r\n            />\r\n            <Hidden smDown>\r\n              <Typography variant=\"h5\">\r\n                &nbsp;&nbsp;Dragon Rampant Army Builder&nbsp;&nbsp;\r\n              </Typography>\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <Typography variant=\"h5\">&nbsp;&nbsp;DRAB&nbsp;&nbsp;</Typography>\r\n            </Hidden>\r\n            <IconButton color=\"inherit\" onClick={reload}>\r\n              <ReplayIcon />\r\n            </IconButton>\r\n            <SaveList roster={roster} showFeedback={showFeedback} />\r\n            <LoadList\r\n              setRoster={setRoster}\r\n              showFeedback={showFeedback}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n            />\r\n          </div>\r\n          <div className={classes.flexingend}>\r\n            <ToggleUIButton\r\n              option=\"viewMode\"\r\n              Icon={VisibilityIcon}\r\n              title=\"View mode\"\r\n              onClick={changeViewMode}\r\n            />\r\n            <ToggleUIButton\r\n              option=\"editMode\"\r\n              Icon={EditIcon}\r\n              title=\"Edit mode\"\r\n              onClick={changeViewMode}\r\n            />\r\n            <Hidden smDown>\r\n              <Typography variant=\"h6\">\r\n                &nbsp;&nbsp;&nbsp;&nbsp;Total Points&nbsp;&nbsp;\r\n                <Fab color=\"secondary\" size=\"small\">\r\n                  <Typography variant=\"h6\">{armyCost}</Typography>\r\n                </Fab>\r\n              </Typography>\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <Typography variant=\"h6\">\r\n                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                <Fab color=\"secondary\" size=\"small\">\r\n                  <Typography variant=\"h6\">{armyCost}</Typography>\r\n                </Fab>\r\n              </Typography>\r\n            </Hidden>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBarMaterial>\r\n      <Toolbar />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport { Typography, Chip } from '@material-ui/core';\r\nimport SimpleDialog from '../SimpleDialog';\r\n\r\nexport default function UnitSelector({ name, options, points, onClose }) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => setOpen(true);\r\n\r\n  const handleClose = value => {\r\n    setOpen(false);\r\n    if (value !== name) onClose(value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" onClick={handleClickOpen}>\r\n        <Chip label={points} color=\"primary\" />\r\n        &nbsp;&nbsp;\r\n        {name}\r\n        <ArrowDropDownIcon />\r\n      </Typography>\r\n      <SimpleDialog\r\n        selectedValue={name}\r\n        open={open}\r\n        onClose={handleClose}\r\n        options={options}\r\n        title=\"Choose unit type\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Options({ unit, optionsData, onChange }) {\r\n  if (!optionsData || !Object.keys(optionsData).length) return <div></div>;\r\n\r\n  const handleChange = option => e => {\r\n    let newUnit = { ...unit };\r\n\r\n    if (e.target.checked) {\r\n      newUnit.options = [...newUnit.options, option];\r\n    } else {\r\n      newUnit.options = newUnit.options.filter(val => val !== option);\r\n    }\r\n\r\n    onChange(newUnit);\r\n  };\r\n\r\n  return (\r\n    <FormControl component=\"fieldset\" style={{ marginTop: 10 }}>\r\n      <FormLabel component=\"legend\">Options</FormLabel>\r\n      <FormGroup>\r\n        {Object.keys(optionsData).map(option => (\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                onChange={handleChange(option)}\r\n                checked={unit.options.includes(option)}\r\n              />\r\n            }\r\n            label={\r\n              <Typography>\r\n                {option}{' '}\r\n                <Typography color=\"secondary\" component=\"span\">\r\n                  @{optionsData[option].points}\r\n                </Typography>\r\n              </Typography>\r\n            }\r\n            key={option}\r\n          />\r\n        ))}\r\n      </FormGroup>\r\n    </FormControl>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport Input from '@material-ui/core/Input';\r\nimport { Typography, Box, Select, MenuItem } from '@material-ui/core';\r\n\r\nfunction FantasticalRules({ unitData, onChange, fantasticalRulesData, unit }) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  let fantasticalRules = unitData.fantasticalRules;\r\n  if (!fantasticalRules || !fantasticalRules.length) return <div></div>;\r\n  if (fantasticalRules[0] === 'any')\r\n    fantasticalRules = Object.keys(fantasticalRulesData);\r\n  if (fantasticalRules[0] === 'exclude') {\r\n    const toCheck = fantasticalRules.slice(1);\r\n    fantasticalRules = Object.keys(fantasticalRulesData);\r\n    for (const excluded of toCheck) {\r\n      fantasticalRules = fantasticalRules.filter(val => val !== excluded);\r\n    }\r\n  }\r\n\r\n  const handleClose = () => setOpen(false);\r\n  const handleOpen = () => setOpen(true);\r\n\r\n  return (\r\n    <>\r\n      <FormLabel onClick={handleOpen} component=\"legend\">\r\n        Fantastical Rules <ArrowDropDownIcon />\r\n      </FormLabel>\r\n      {unit.fantasticalRules &&\r\n        unit.fantasticalRules.length > 0 &&\r\n        unit.fantasticalRules.map(name => (\r\n          <div key={name}>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={true}\r\n                  onClick={() =>\r\n                    onChange({\r\n                      ...unit,\r\n                      fantasticalRules: [\r\n                        ...unit.fantasticalRules.filter(v => v !== name)\r\n                      ]\r\n                    })\r\n                  }\r\n                />\r\n              }\r\n              label={\r\n                <Typography>\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}}\r\n                  </Typography>\r\n                </Typography>\r\n              }\r\n              key={name}\r\n            />\r\n          </div>\r\n        ))}\r\n      <FormControl style={{ marginTop: 10, width: 0, height: 0 }}>\r\n        <Select\r\n          open={open}\r\n          onClose={handleClose}\r\n          onOpen={handleOpen}\r\n          IconComponent={() => <Box />}\r\n          multiple\r\n          value={unit.fantasticalRules}\r\n          onChange={e => onChange({ ...unit, fantasticalRules: [...e.target.value] })}\r\n          input={<Input />}\r\n          renderValue={() => ' '}\r\n        >\r\n          {fantasticalRules.map(name => (\r\n            <MenuItem key={name} value={name}>\r\n              {unit.fantasticalRules.indexOf(name) < 0 && (\r\n                <Typography>\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}\r\n                  </Typography>\r\n                </Typography>\r\n              )}\r\n              {unit.fantasticalRules.indexOf(name) > -1 && (\r\n                <Typography color=\"primary\">\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}\r\n                  </Typography>\r\n                </Typography>\r\n              )}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FantasticalRules;\r\n","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { Hidden } from '@material-ui/core';\r\n\r\nexport default function StatBlock({ stats }) {\r\n  let shooting = stats.shoot ? `${stats.shoot}+` : '-';\r\n  let shootingValue = stats.shoot ? `${stats.shootValue}+/${stats.shootRange}\"` : '-';\r\n\r\n  return (\r\n    <TableContainer>\r\n      <Table size=\"small\">\r\n        <Hidden xsDown>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>Attack</TableCell>\r\n              <TableCell>{stats.attack}+</TableCell>\r\n              <TableCell>Attack Value</TableCell>\r\n              <TableCell>{stats.attackValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Move</TableCell>\r\n              <TableCell>{stats.move}+</TableCell>\r\n              <TableCell>Defence Value</TableCell>\r\n              <TableCell>{stats.defenceValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Shoot</TableCell>\r\n              <TableCell>{shooting}</TableCell>\r\n              <TableCell>Shoot Value</TableCell>\r\n              <TableCell>{shootingValue}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Courage</TableCell>\r\n              <TableCell>{stats.courage}+</TableCell>\r\n              <TableCell>Movement</TableCell>\r\n              <TableCell>{stats.movement}\"</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Armour</TableCell>\r\n              <TableCell>{stats.armour}</TableCell>\r\n              <TableCell>Strength Points</TableCell>\r\n              <TableCell>{stats.strengthPoints}</TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Hidden>\r\n        <Hidden smUp>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>A</TableCell>\r\n              <TableCell>{stats.attack}+</TableCell>\r\n              <TableCell>AV</TableCell>\r\n              <TableCell>{stats.attackValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>M</TableCell>\r\n              <TableCell>{stats.move}+</TableCell>\r\n              <TableCell>DV</TableCell>\r\n              <TableCell>{stats.defenceValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>S</TableCell>\r\n              <TableCell>{shooting}</TableCell>\r\n              <TableCell>SV</TableCell>\r\n              <TableCell>{shootingValue}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>C</TableCell>\r\n              <TableCell>{stats.courage}+</TableCell>\r\n              <TableCell>MR</TableCell>\r\n              <TableCell>{stats.movement}\"</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Ar</TableCell>\r\n              <TableCell>{stats.armour}</TableCell>\r\n              <TableCell>SP</TableCell>\r\n              <TableCell>{stats.strengthPoints}</TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Hidden>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Typography, List, Container, ListItem } from '@material-ui/core';\r\n\r\nexport default function SpecialRules({ rules }) {\r\n  if (rules && rules.length) {\r\n    return (\r\n      <Container>\r\n        <Typography variant=\"h6\" style={{ marginTop: 10 }}>\r\n          Special Rules\r\n        </Typography>\r\n        <List>\r\n          {rules.map(r => (\r\n            <ListItem key={r}>{r}</ListItem>\r\n          ))}\r\n        </List>\r\n      </Container>\r\n    );\r\n  }\r\n  return <></>;\r\n}\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Box, Button, CardHeader } from '@material-ui/core';\r\nimport UnitSelector from './UnitSelector';\r\nimport Options from './Options';\r\nimport FantasticalRules from './FantasticalRules';\r\nimport StatBlock from './StatBlock';\r\nimport SpecialRules from './SpecialRules';\r\n\r\nfunction Unit({ id, unit, updateUnit, data, setUnit, removeUnit, ui }) {\r\n  const changeUnit = unitName => setUnit(id, unitName);\r\n\r\n  const handleChange = unit => {\r\n    const unitData = data.unitData[unit.name];\r\n    unit = {\r\n      ...unitData,\r\n      options: [...unit.options],\r\n      fantasticalRules: [...unit.fantasticalRules]\r\n    };\r\n\r\n    let points = unitData.points;\r\n    for (let option of unit.options) {\r\n      option = unitData.options[option];\r\n      points += option.points;\r\n\r\n      if (option.setStats) {\r\n        for (const [key, val] of Object.entries(option.setStats)) {\r\n          unit = { ...unit, stats: { ...unit.stats, [key]: val } };\r\n        }\r\n      }\r\n\r\n      if (option.add) {\r\n        for (const rule of option.add) {\r\n          unit.rules = [...unit.rules, rule];\r\n        }\r\n      }\r\n\r\n      if (option.remove) {\r\n        for (const rule of option.remove) {\r\n          unit.rules = unit.rules.filter(val => val !== rule);\r\n        }\r\n      }\r\n    }\r\n    for (let fant of unit.fantasticalRules) {\r\n      fant = data.fantasticalRulesData[fant];\r\n      points += fant.points;\r\n      unit.rules = [...unit.rules, fant.name];\r\n    }\r\n\r\n    unit = { ...unit, points: points };\r\n    updateUnit(id, { ...unit });\r\n  };\r\n\r\n  return (\r\n    <Card variant=\"outlined\" style={{ marginBottom: 25, minWidth: 400 }}>\r\n      <CardHeader\r\n        title={\r\n          <UnitSelector\r\n            name={unit.name}\r\n            onClose={changeUnit}\r\n            options={data.unitNames}\r\n            points={unit.points}\r\n          />\r\n        }\r\n        action={\r\n          <Button onClick={() => removeUnit(id)}>\r\n            <CloseIcon />\r\n          </Button>\r\n        }\r\n      />\r\n      <CardContent>\r\n        {!ui.editMode && (\r\n          <>\r\n            <StatBlock stats={unit.stats} />\r\n            <SpecialRules rules={unit.rules} />\r\n          </>\r\n        )}\r\n        {!ui.viewMode && (\r\n          <>\r\n            <Options\r\n              onChange={handleChange}\r\n              optionsData={data.unitData[unit.name].options}\r\n              unit={unit}\r\n            />\r\n            <Box>\r\n              <FantasticalRules\r\n                onChange={handleChange}\r\n                unitData={data.unitData[unit.name]}\r\n                fantasticalRulesData={data.fantasticalRulesData}\r\n                unit={unit}\r\n              />\r\n            </Box>\r\n          </>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Unit;\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab, Box, Typography } from '@material-ui/core';\r\nimport Unit from './Unit';\r\n\r\nconst Roster = ({ roster, updateRoster, ui, data }) => {\r\n  const updateUnit = (id, newAttributes) => {\r\n    updateRoster({\r\n      units: {\r\n        ...roster.units,\r\n        [id]: { ...roster.units[id], ...newAttributes }\r\n      }\r\n    });\r\n  };\r\n\r\n  const addUnit = () => {\r\n    const id = roster.nextID;\r\n\r\n    updateRoster({\r\n      nextID: id + 1,\r\n      units: {\r\n        ...roster.units,\r\n        [id]: { ...data.unitData.Unit, options: [], fantasticalRules: [] }\r\n      },\r\n      unitOrder: [...roster.unitOrder, id]\r\n    });\r\n  };\r\n\r\n  const setUnit = (id, name) => {\r\n    updateRoster({\r\n      units: {\r\n        ...roster.units,\r\n        [id]: { ...data.unitData[name], options: [], fantasticalRules: [] }\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeUnit = id => {\r\n    const units = { ...roster.units };\r\n    delete units[id];\r\n    updateRoster({\r\n      units: { ...units },\r\n      unitOrder: roster.unitOrder.filter(val => val !== id)\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\r\n        {roster.unitOrder.map(id => (\r\n          <Unit\r\n            id={id}\r\n            key={id}\r\n            unit={roster.units[id]}\r\n            updateUnit={updateUnit}\r\n            removeUnit={removeUnit}\r\n            setUnit={setUnit}\r\n            data={data}\r\n            ui={ui}\r\n          />\r\n        ))}\r\n      </Box>\r\n      {!Object.keys(roster.units).length && !ui.viewMode && (\r\n        <Typography variant=\"h6\" style={{ marginBottom: 25 }}>\r\n          Click the button to add your first unit!\r\n        </Typography>\r\n      )}\r\n      {!ui.viewMode && (\r\n        <Fab\r\n          color=\"secondary\"\r\n          style={{ marginLeft: 25, marginBottom: 25 }}\r\n          onClick={addUnit}\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Roster;\r\n","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Typography,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails\r\n} from '@material-ui/core';\r\n\r\nexport default function RulesSummary({\r\n  specialRules,\r\n  setUIOption,\r\n  rulesData,\r\n  rulesSummaryExpanded\r\n}) {\r\n  return (\r\n    <ExpansionPanel\r\n      expanded={rulesSummaryExpanded}\r\n      onChange={() => setUIOption('rulesSummaryExpanded', !rulesSummaryExpanded)}\r\n      style={{ minWidth: 400, maxWidth: 1210 }}\r\n    >\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n        <Typography variant=\"h5\">Rules Summary</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails style={{ maxWidth: 800 }}>\r\n        <List>\r\n          {specialRules.map(rule => (\r\n            <ListItem key={rule}>\r\n              <ListItemText primary={rule} secondary={rulesData[rule] || ''} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {\r\n  Typography,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  TableContainer,\r\n  Table,\r\n  TableRow,\r\n  TableHead,\r\n  TableCell,\r\n  TableBody,\r\n  Hidden\r\n} from '@material-ui/core';\r\n\r\nexport default function SpellTable({\r\n  setUIOption,\r\n  specialRules,\r\n  spellsExpanded,\r\n  spellData\r\n}) {\r\n  const spellcasterInRoster = () => {\r\n    for (const rule of specialRules) {\r\n      if (rule === 'Spellcaster' || rule === 'Wizardlings') return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {spellcasterInRoster() && (\r\n        <ExpansionPanel\r\n          expanded={spellsExpanded}\r\n          onChange={() => setUIOption('spellsExpanded', !spellsExpanded)}\r\n          style={{ minWidth: 400, maxWidth: 1210 }}\r\n        >\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"h5\">Spell Table</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails style={{ maxWidth: 800 }}>\r\n            <TableContainer>\r\n              <Table size=\"small\" style={{ minWidth: 650 }}>\r\n                <TableHead>\r\n                  <TableRow key=\"headspelltable\">\r\n                    <TableCell style={{ minWidth: 100 }}>Spell name</TableCell>\r\n                    <Hidden smDown>\r\n                      <TableCell align=\"center\">Difficulty</TableCell>\r\n                    </Hidden>\r\n                    <Hidden mdUp>\r\n                      <TableCell align=\"center\">Dif</TableCell>\r\n                    </Hidden>\r\n                    <TableCell>Target</TableCell>\r\n                    <TableCell>Duration</TableCell>\r\n                    <TableCell>Effect</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {Object.values(spellData).map(spell => (\r\n                    <TableRow key={spell.name}>\r\n                      <TableCell component=\"th\" scope=\"row\">\r\n                        {spell.name}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">{spell.difficulty}+</TableCell>\r\n                      <TableCell>{spell.target}</TableCell>\r\n                      <TableCell>{spell.duration}</TableCell>\r\n                      <TableCell>{spell.effect}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","/**\r\n * Filter an object\r\n * @param {Object} obj The object that should be filtered\r\n * @param {function} fun A function accepting two arguments, the value and the key. must returns a boolean. (val, key) => bool\r\n * @return {Object} Returns a new Object, containing the filtered entries\r\n */\r\nconst objFilter = (obj, fun) => {\r\n  let filtered = {};\r\n  for (const k in obj) {\r\n    if (fun(obj[k], k)) filtered = { ...filtered, [k]: obj[k] };\r\n  }\r\n  return filtered;\r\n};\r\n\r\n/**\r\n * Map over an object\r\n * @param {Object} obj The object that should be filtered\r\n * @param {function} fun A function accepting two arguments, the value and the key. (val, key) => any\r\n * @return {Object} Returns a new Object, containing the maped over entries\r\n */\r\nconst objMap = (obj, fn) =>\r\n  Object.fromEntries(Object.entries(obj).map(([k, v]) => [k, fn(v, k)]));\r\n\r\n/**\r\n * Reduce an object\r\n * @param {Object} obj The object that should be reduced\r\n * @param {function} fun A function accepting three arguments, the accumulator, value and the key. must returns a new accumulator. (acc, val, key) => acc\r\n * @return {Object} Returns the accumulator\r\n */\r\nconst objReduce = (obj, fun, acc) =>\r\n  Object.entries(obj).reduce((acc, [k, v]) => fun(acc, v, k), acc);\r\n\r\nexport { objFilter, objMap, objReduce };\r\n","import React from 'react';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Legend,\r\n  LabelList,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\n\r\nexport default function UnitDistributionChart({ data, height, colors }) {\r\n  return (\r\n    <ResponsiveContainer height={height}>\r\n      <BarChart\r\n        data={data}\r\n        margin={{\r\n          top: 20,\r\n          right: 30,\r\n          left: 20,\r\n          bottom: 5\r\n        }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"name\" />\r\n        <YAxis />\r\n        <Legend />\r\n        <Bar dataKey=\"Units\" fill={colors[0]} minPointSize={3}>\r\n          <LabelList dataKey=\"Units\" position=\"top\" />\r\n        </Bar>\r\n        <Bar dataKey=\"Points\" fill={colors[1]} minPointSize={3}>\r\n          <LabelList dataKey=\"Points\" position=\"top\" />\r\n        </Bar>\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Cell, Tooltip, Legend, PieChart, Pie, ResponsiveContainer } from 'recharts';\r\n\r\nexport default function PointDistributionChart({ data, height, colors }) {\r\n  return (\r\n    <ResponsiveContainer height={height}>\r\n      <PieChart>\r\n        <Pie\r\n          data={data}\r\n          dataKey=\"value\"\r\n          label={renderCustomizedLabel}\r\n          labelLine={false}\r\n          outerRadius={80}\r\n        >\r\n          {data.map((entry, index) => (\r\n            <Cell key={entry} fill={colors[index]} />\r\n          ))}\r\n        </Pie>\r\n        <Tooltip />\r\n        <Legend />\r\n      </PieChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n  const percentValue = (percent * 100).toFixed(0);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"black\"\r\n      textAnchor={x > cx ? 'start' : 'end'}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {percentValue > 0 ? `${percentValue}%` : ''}\r\n    </text>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {\r\n  Typography,\r\n  Chip,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport { objFilter, objReduce } from '../../helpers/utils';\r\nimport UnitDistributionChart from './UnitDistributionChart';\r\nimport PointDistributionChart from './PointDistributionChart';\r\n\r\nexport default function Statistics({\r\n  armyCost,\r\n  units,\r\n  unitData,\r\n  fantasticalRulesData,\r\n  statisticsExpanded,\r\n  setUIOption\r\n}) {\r\n  const optionPoints = objReduce(\r\n    units,\r\n    (accumulator, unit) =>\r\n      unit.options.reduce(\r\n        (acc, option) => acc + unitData[unit.name].options[option].points,\r\n        accumulator\r\n      ),\r\n    0\r\n  );\r\n\r\n  const fantasticalPoints = objReduce(\r\n    units,\r\n    (accumulator, unit) =>\r\n      unit.fantasticalRules.reduce(\r\n        (acc, option) => acc + fantasticalRulesData[option].points,\r\n        accumulator\r\n      ),\r\n    0\r\n  );\r\n\r\n  const COLORS = ['#8884d8', '#82ca9d', '#FF8042'];\r\n  const totalPoints = armyCost;\r\n  const unitCount = Object.keys(units).length;\r\n  const mounted = objFilter(units, u => u.type === 'mounted');\r\n  const foot = objFilter(units, u => u.type === 'foot');\r\n  const ranged = objFilter(units, u => u.stats.shoot > 0);\r\n  const unitsCost = objReduce(units, (acc, u) => acc + unitData[u.name].points, 0);\r\n\r\n  const dataUnitTypes = [\r\n    {\r\n      name: 'Mounted',\r\n      Units: Object.keys(mounted).length,\r\n      Points: objReduce(mounted, (acc, u) => acc + u.points, 0)\r\n    },\r\n    {\r\n      name: 'Foot',\r\n      Units: Object.keys(foot).length,\r\n      Points: objReduce(foot, (acc, u) => acc + u.points, 0)\r\n    },\r\n    {\r\n      name: 'Ranged',\r\n      Units: Object.keys(ranged).length,\r\n      Points: objReduce(ranged, (acc, u) => acc + u.points, 0)\r\n    }\r\n  ];\r\n\r\n  const dataPoints = [\r\n    { name: 'Units', value: unitsCost },\r\n    { name: 'Options', value: optionPoints < 0 ? 0 : optionPoints },\r\n    { name: 'Fantastical Rules', value: fantasticalPoints }\r\n  ];\r\n\r\n  return (\r\n    <ExpansionPanel\r\n      expanded={statisticsExpanded}\r\n      onChange={() => setUIOption('statisticsExpanded', !statisticsExpanded)}\r\n      style={{ minWidth: 400, maxWidth: 1210 }}\r\n    >\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n        <Typography variant=\"h5\">Statistics</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails>\r\n        <div>\r\n          <Chip\r\n            label={totalPoints + ' Points'}\r\n            color=\"primary\"\r\n            style={{ marginRight: 25, marginBottom: 25 }}\r\n          />\r\n          <Chip\r\n            label={unitCount + ' Units'}\r\n            color=\"primary\"\r\n            style={{ marginRight: 25, marginBottom: 25 }}\r\n          />\r\n          <Chip\r\n            label={\r\n              (totalPoints / (unitCount ? unitCount : 1)).toPrecision(2) +\r\n              ' Points per unit'\r\n            }\r\n            color=\"primary\"\r\n            style={{ marginRight: 25, marginBottom: 25 }}\r\n          />\r\n          {unitsCost > 0 && (\r\n            <>\r\n              <Typography variant=\"h6\" style={{ marginTop: 25 }}>\r\n                Unit Distribution\r\n              </Typography>\r\n              <UnitDistributionChart\r\n                data={dataUnitTypes}\r\n                height={300}\r\n                colors={COLORS}\r\n              />\r\n              <Typography variant=\"h6\" style={{ marginTop: 25 }}>\r\n                Point Distribution\r\n              </Typography>\r\n              <PointDistributionChart data={dataPoints} height={300} colors={COLORS} />\r\n            </>\r\n          )}\r\n        </div>\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useReducer } from 'react';\r\nimport store from 'store';\r\nimport { Box, Typography, Container, FormControl } from '@material-ui/core';\r\nimport unitData from 'assets/dragonRampantData/units.json';\r\nimport fantasticalRulesData from 'assets/dragonRampantData/fantasticalRules.json';\r\nimport rulesData from 'assets/dragonRampantData/rules.json';\r\nimport spellData from 'assets/dragonRampantData/spells.json';\r\nimport ShowFeedback from './ShowFeedback';\r\nimport AppBar from './AppBar';\r\nimport Roster from './Roster';\r\nimport RulesSummary from './RulesSummary';\r\nimport SpellTable from './SpellTable';\r\nimport Statistics from './Statistics/Statistics';\r\nimport { objReduce } from 'helpers/utils';\r\n\r\nconst App = () => {\r\n  const [data] = useState({\r\n    unitData: unitData,\r\n    unitNames: Object.keys(unitData).slice(1),\r\n    fantasticalRulesData: fantasticalRulesData,\r\n    rulesData: rulesData,\r\n    spellData: spellData\r\n  });\r\n\r\n  const initialRoster = {\r\n    name: 'New List',\r\n    nextID: 1,\r\n    units: {\r\n      0: { ...data.unitData.Unit, options: [], fantasticalRules: [] }\r\n    },\r\n    unitOrder: [0]\r\n  };\r\n\r\n  const [roster, setRoster] = useState({ ...initialRoster });\r\n\r\n  const [ui, setUI] = useState({\r\n    viewMode: false,\r\n    editMode: false,\r\n    rulesSummaryExpanded: true,\r\n    spellsExpanded: false,\r\n    statisticsExpanded: true\r\n  });\r\n\r\n  const [forceInputUpdate, setForceInputUpdate] = useReducer(\r\n    state => (state ? 0 : 1),\r\n    0\r\n  );\r\n\r\n  const [feedback, setFeedback] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: ''\r\n  });\r\n\r\n  useEffect(ui => {\r\n    setUI({ ...ui, ...store.get('uiOptions') });\r\n  }, []);\r\n\r\n  const updateUI = newAttributes => {\r\n    setUI({ ...ui, ...newAttributes });\r\n    store.set('uiOptions', { ...ui, ...newAttributes });\r\n  };\r\n\r\n  const setUIOption = (option, value) => {\r\n    setUI({ ...ui, [option]: value });\r\n    store.set('uiOptions', { ...ui, [option]: value });\r\n  };\r\n\r\n  const updateRoster = newAttributes => setRoster({ ...roster, ...newAttributes });\r\n\r\n  const showFeedback = (message, severity) =>\r\n    setFeedback({ open: true, message: message, severity: severity });\r\n\r\n  const reload = () => {\r\n    setRoster({ ...initialRoster });\r\n    setForceInputUpdate();\r\n  };\r\n\r\n  const getSpecialRules = () => {\r\n    let specialRules = new Set();\r\n    for (const unit of Object.values(roster.units)) {\r\n      for (const rule of unit.rules) {\r\n        data.rulesData[data.rulesData[rule]]\r\n          ? specialRules.add(data.rulesData[rule])\r\n          : specialRules.add(rule);\r\n      }\r\n    }\r\n    return [...specialRules].sort();\r\n  };\r\n  const specialRules = getSpecialRules();\r\n\r\n  const totalPoints = objReduce(\r\n    Object.values(roster.units),\r\n    (acc, unit) => acc + unit.points,\r\n    0\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <AppBar\r\n        setUIOption={setUIOption}\r\n        updateUI={updateUI}\r\n        ui={ui}\r\n        roster={roster}\r\n        setRoster={setRoster}\r\n        armyCost={totalPoints}\r\n        showFeedback={showFeedback}\r\n        reload={reload}\r\n        setForceInputUpdate={setForceInputUpdate}\r\n      />\r\n      <Box>\r\n        <FormControl>\r\n          <Typography\r\n            style={{ border: 0, marginBottom: 25 }}\r\n            variant=\"h4\"\r\n            key={forceInputUpdate}\r\n            component=\"Input\"\r\n            value={roster.name}\r\n            onChange={e => updateRoster({ name: e.target.value })}\r\n          />\r\n        </FormControl>\r\n        <Roster roster={roster} updateRoster={updateRoster} ui={ui} data={data} />\r\n        <RulesSummary\r\n          specialRules={specialRules}\r\n          rulesData={data.rulesData}\r\n          rulesSummaryExpanded={ui.rulesSummaryExpanded}\r\n          setUIOption={setUIOption}\r\n        />\r\n        <SpellTable\r\n          specialRules={specialRules}\r\n          spellsExpanded={ui.spellsExpanded}\r\n          setUIOption={setUIOption}\r\n          spellData={data.spellData}\r\n        />\r\n        <Statistics\r\n          armyCost={totalPoints}\r\n          units={roster.units}\r\n          unitData={data.unitData}\r\n          fantasticalRulesData={data.fantasticalRulesData}\r\n          statisticsExpanded={ui.statisticsExpanded}\r\n          setUIOption={setUIOption}\r\n        />\r\n      </Box>\r\n      <ShowFeedback feedback={feedback} setFeetback={setFeedback} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}