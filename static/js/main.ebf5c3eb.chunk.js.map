{"version":3,"sources":["components/App/BuilderAppBar.js","components/SimpleDialog.js","components/Unit/UnitSelector.js","components/Unit/Options.js","components/Unit/FantasticalRules.js","components/Unit/StatBlock.js","components/Unit/SpecialRules.js","components/Unit/Unit.js","helpers/utils.js","components/Roster/Statistics.js","components/Roster/Roster.js","components/App/App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","marginBottom","title","BuilderAppBar","ui","setUIOption","classes","ToggleUIButton","option","Icon","Tooltip","IconButton","color","onClick","className","AppBar","position","Toolbar","Typography","variant","GridOnIcon","NotesIcon","FormatListBulletedIcon","Fab","size","armyCost","SimpleDialog","props","onClose","selectedValue","open","options","Dialog","DialogTitle","List","map","value","ListItem","button","handleListItemClick","key","UnitSelector","name","points","React","useState","setOpen","Chip","label","Options","unit","optionsData","onChange","Object","keys","length","handleChange","e","newUnit","target","checked","filter","val","FormControl","component","style","marginTop","FormLabel","FormGroup","FormControlLabel","control","Checkbox","FantasticalRules","unitData","fantasticalRulesData","fantasticalRules","toCheck","slice","excluded","handleOpen","v","width","height","Select","onOpen","IconComponent","Box","multiple","input","Input","renderValue","MenuItem","indexOf","StatBlock","stats","shooting","shoot","shootingValue","shootValue","shootRange","TableContainer","Table","TableBody","TableRow","TableCell","attack","attackValue","move","defenceValue","courage","movement","armour","strengthPoints","SpecialRules","rules","Container","r","Unit","id","updateUnit","updateArmyCost","data","setUnit","removeUnit","changeUnit","unitName","cost","oldCost","setPoints","oldPoints","setStats","entries","add","rule","remove","fant","Card","CardHeader","u","unitNames","action","Button","CardContent","showStats","showRules","showOptions","oldUnit","objFilter","obj","fun","filtered","k","objReduce","acc","reduce","Statistics","optionPoints","units","accumulator","fantasticalPoints","COLORS","totalPoints","unitCount","mounted","type","foot","ranged","unitsCost","dataUnitTypes","Units","Points","dataPoints","marginRight","margin","top","right","left","bottom","strokeDasharray","dataKey","fill","minPointSize","renderCustomizedLabel","labelLine","outerRadius","entry","index","RADIAN","Math","PI","cx","cy","midAngle","innerRadius","percent","radius","x","cos","y","sin","textAnchor","dominantBaseline","toFixed","Roster","state","nextID","unitOrder","this","setState","newAttributes","display","flexDirection","flexWrap","marginLeft","addUnit","Component","App","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ebf5c3eb.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GridOnIcon from '@material-ui/icons/GridOn';\r\nimport NotesIcon from '@material-ui/icons/Notes';\r\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\r\nimport { IconButton, Fab, Tooltip } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginBottom: 25\r\n  },\r\n\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default function BuilderAppBar({ ui, setUIOption }) {\r\n  const classes = useStyles();\r\n\r\n  function ToggleUIButton({ option, Icon, title }) {\r\n    return (\r\n      <Tooltip title={title}>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          onClick={() => {\r\n            setUIOption(option, !ui[option]);\r\n          }}\r\n        >\r\n          <Icon color={ui[option] ? 'inherit' : 'disabled'} />\r\n        </IconButton>\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          <Typography variant=\"h5\" className={classes.title}>\r\n            Dragon Rampant Army Builder\r\n          </Typography>\r\n          <ToggleUIButton option=\"showStats\" Icon={GridOnIcon} title=\"Show Statblock\" />\r\n          <ToggleUIButton option=\"showRules\" Icon={NotesIcon} title=\"Show Rules\" />\r\n          <ToggleUIButton\r\n            option=\"showOptions\"\r\n            Icon={FormatListBulletedIcon}\r\n            title=\"Show Options\"\r\n          />\r\n          <Typography variant=\"h6\">\r\n            &nbsp;&nbsp;&nbsp;&nbsp;Total Points&nbsp;&nbsp;\r\n            <Fab color=\"secondary\" size=\"small\">\r\n              <Typography variant=\"h6\">{ui.armyCost}</Typography>\r\n            </Fab>\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Toolbar />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nexport default function SimpleDialog(props) {\r\n  const { onClose, selectedValue, open, options, title } = props;\r\n\r\n  function handleClose() {\r\n    onClose(selectedValue);\r\n  }\r\n\r\n  function handleListItemClick(value) {\r\n    onClose(value);\r\n  }\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open}>\r\n      <DialogTitle>{title}</DialogTitle>\r\n      <List>\r\n        {options.map(value => (\r\n          <ListItem button onClick={() => handleListItemClick(value)} key={value}>\r\n            {value}\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport { Typography, Chip } from '@material-ui/core';\r\nimport SimpleDialog from '../SimpleDialog';\r\n\r\nexport default function UnitSelector({ name, options, points, onClose }) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => setOpen(true);\r\n\r\n  function handleClose(value) {\r\n    setOpen(false);\r\n    if (value !== name) onClose(value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h5\" onClick={handleClickOpen}>\r\n        <Chip label={points} color=\"primary\" />\r\n        &nbsp;&nbsp;\r\n        {name}\r\n        <ArrowDropDownIcon />\r\n      </Typography>\r\n      <SimpleDialog\r\n        selectedValue={name}\r\n        open={open}\r\n        onClose={handleClose}\r\n        options={options}\r\n        title=\"Choose unit type\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Options({ unit, optionsData, onChange }) {\r\n  if (!optionsData || !Object.keys(optionsData).length) return <div></div>;\r\n\r\n  const handleChange = option => e => {\r\n    let newUnit = { ...unit };\r\n\r\n    if (e.target.checked) {\r\n      newUnit.options = [...newUnit.options, option];\r\n    } else {\r\n      newUnit.options = newUnit.options.filter(val => val !== option);\r\n    }\r\n\r\n    onChange(newUnit);\r\n  };\r\n\r\n  return (\r\n    <FormControl component=\"fieldset\" style={{ marginTop: 10 }}>\r\n      <FormLabel component=\"legend\">Options</FormLabel>\r\n      <FormGroup>\r\n        {Object.keys(optionsData).map(option => (\r\n          <FormControlLabel\r\n            control={<Checkbox onChange={handleChange(option)} />}\r\n            label={\r\n              <Typography>\r\n                {option}{' '}\r\n                <Typography color=\"secondary\" component=\"span\">\r\n                  @{optionsData[option].points}\r\n                </Typography>\r\n              </Typography>\r\n            }\r\n            key={option}\r\n          />\r\n        ))}\r\n      </FormGroup>\r\n    </FormControl>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport Input from '@material-ui/core/Input';\r\nimport { Typography, Box, Select, MenuItem } from '@material-ui/core';\r\n\r\nfunction FantasticalRules({ unitData, onChange, fantasticalRulesData, unit }) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  let fantasticalRules = unitData.fantasticalRules;\r\n  if (!fantasticalRules || !fantasticalRules.length) return <div></div>;\r\n  if (fantasticalRules[0] === 'any')\r\n    fantasticalRules = Object.keys(fantasticalRulesData);\r\n  if (fantasticalRules[0] === 'exclude') {\r\n    const toCheck = fantasticalRules.slice(1);\r\n    fantasticalRules = Object.keys(fantasticalRulesData);\r\n    for (const excluded of toCheck) {\r\n      fantasticalRules = fantasticalRules.filter(val => val !== excluded);\r\n    }\r\n  }\r\n\r\n  const handleClose = () => setOpen(false);\r\n  const handleOpen = () => setOpen(true);\r\n\r\n  return (\r\n    <div>\r\n      <FormLabel onClick={handleOpen} component=\"legend\">\r\n        Fantastical Rules <ArrowDropDownIcon />\r\n      </FormLabel>\r\n      {unit.fantasticalRules &&\r\n        unit.fantasticalRules.length > 0 &&\r\n        unit.fantasticalRules.map(name => (\r\n          <div key={name}>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={true}\r\n                  onClick={() =>\r\n                    onChange({\r\n                      ...unit,\r\n                      fantasticalRules: [\r\n                        ...unit.fantasticalRules.filter(v => v !== name)\r\n                      ]\r\n                    })\r\n                  }\r\n                />\r\n              }\r\n              label={\r\n                <Typography>\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}}\r\n                  </Typography>\r\n                </Typography>\r\n              }\r\n              key={name}\r\n            />\r\n          </div>\r\n        ))}\r\n      <FormControl style={{ marginTop: 10, width: 0, height: 0 }}>\r\n        <Select\r\n          open={open}\r\n          onClose={handleClose}\r\n          onOpen={handleOpen}\r\n          IconComponent={() => <Box />}\r\n          multiple\r\n          value={unit.fantasticalRules}\r\n          onChange={e => onChange({ ...unit, fantasticalRules: [...e.target.value] })}\r\n          input={<Input />}\r\n          renderValue={() => ' '}\r\n        >\r\n          {fantasticalRules.map(name => (\r\n            <MenuItem key={name} value={name}>\r\n              {unit.fantasticalRules.indexOf(name) < 0 && (\r\n                <Typography>\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}\r\n                  </Typography>\r\n                </Typography>\r\n              )}\r\n              {unit.fantasticalRules.indexOf(name) > -1 && (\r\n                <Typography color=\"primary\">\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}\r\n                  </Typography>\r\n                </Typography>\r\n              )}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FantasticalRules;\r\n","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nexport default function StatBlock({ stats }) {\r\n  let shooting = stats.shoot ? `${stats.shoot}+` : '-';\r\n  let shootingValue = stats.shoot ? `${stats.shootValue}+/${stats.shootRange}\"` : '-';\r\n\r\n  return (\r\n    <TableContainer>\r\n      <Table size=\"small\">\r\n        <TableBody>\r\n          <TableRow>\r\n            <TableCell>Attack</TableCell>\r\n            <TableCell>{stats.attack}+</TableCell>\r\n            <TableCell>Attack Value</TableCell>\r\n            <TableCell>{stats.attackValue}+</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>Move</TableCell>\r\n            <TableCell>{stats.move}+</TableCell>\r\n            <TableCell>Defence Value</TableCell>\r\n            <TableCell>{stats.defenceValue}+</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>Shoot</TableCell>\r\n            <TableCell>{shooting}</TableCell>\r\n            <TableCell>Shoot Value</TableCell>\r\n            <TableCell>{shootingValue}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>Courage</TableCell>\r\n            <TableCell>{stats.courage}+</TableCell>\r\n            <TableCell>Movement</TableCell>\r\n            <TableCell>{stats.movement}\"</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>Armour</TableCell>\r\n            <TableCell>{stats.armour}</TableCell>\r\n            <TableCell>Strength Points</TableCell>\r\n            <TableCell>{stats.strengthPoints}</TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Typography, List, Container, ListItem } from '@material-ui/core';\r\n\r\nexport default function SpecialRules({ rules }) {\r\n  if (rules && rules.length) {\r\n    return (\r\n      <Container>\r\n        <Typography variant=\"h6\" style={{ marginTop: 10 }}>\r\n          Special Rules\r\n        </Typography>\r\n        <List>\r\n          {rules.map(r => (\r\n            <ListItem key={r}>{r}</ListItem>\r\n          ))}\r\n        </List>\r\n      </Container>\r\n    );\r\n  }\r\n  return <div></div>;\r\n}\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Box, Button, CardHeader } from '@material-ui/core';\r\nimport UnitSelector from './UnitSelector';\r\nimport Options from './Options';\r\nimport FantasticalRules from './FantasticalRules';\r\nimport StatBlock from './StatBlock';\r\nimport SpecialRules from './SpecialRules';\r\n\r\nfunction Unit({ id, unit, updateUnit, updateArmyCost, data, setUnit, removeUnit, ui }) {\r\n  function setPoints(cost) {\r\n    const oldCost = unit.points;\r\n    updateUnit({ points: cost });\r\n    updateArmyCost(cost - oldCost);\r\n  }\r\n\r\n  function changeUnit(unitName) {\r\n    setPoints(data.unitData[unitName].points);\r\n    setUnit(unitName);\r\n  }\r\n\r\n  function handleChange(unit) {\r\n    const unitData = data.unitData[unit.name];\r\n    const oldPoints = unit.points;\r\n    unit = {\r\n      ...unitData,\r\n      options: [...unit.options],\r\n      fantasticalRules: [...unit.fantasticalRules]\r\n    };\r\n\r\n    let points = unitData.points;\r\n    for (let option of unit.options) {\r\n      option = unitData.options[option];\r\n      points += option.points;\r\n\r\n      if (option.setStats) {\r\n        for (const [key, val] of Object.entries(option.setStats)) {\r\n          unit = { ...unit, stats: { ...unit.stats, [key]: val } };\r\n        }\r\n      }\r\n\r\n      if (option.add) {\r\n        for (const rule of option.add) {\r\n          unit.rules = [...unit.rules, rule];\r\n        }\r\n      }\r\n\r\n      if (option.remove) {\r\n        for (const rule of option.remove) {\r\n          unit.rules = unit.rules.filter(val => val !== rule);\r\n        }\r\n      }\r\n    }\r\n    for (let fant of unit.fantasticalRules) {\r\n      fant = data.fantasticalRulesData[fant];\r\n      points += fant.points;\r\n      unit.rules = [...unit.rules, fant.name];\r\n    }\r\n\r\n    unit = { ...unit, points: points };\r\n    updateArmyCost(points - oldPoints);\r\n    updateUnit({ ...unit });\r\n  }\r\n\r\n  return (\r\n    <Card variant=\"outlined\" style={{ marginBottom: 25, width: 400 }}>\r\n      <CardHeader\r\n        title={\r\n          <UnitSelector\r\n            name={unit.name}\r\n            onClose={u => changeUnit(u)}\r\n            options={data.unitNames}\r\n            points={unit.points}\r\n          />\r\n        }\r\n        action={\r\n          <Button onClick={() => removeUnit()}>\r\n            <CloseIcon />\r\n          </Button>\r\n        }\r\n      />\r\n      <CardContent>\r\n        {ui.showStats && <StatBlock stats={unit.stats} />}\r\n        {ui.showRules && <SpecialRules rules={unit.rules} />}\r\n        {ui.showOptions && (\r\n          <Options\r\n            onChange={oldUnit => handleChange(oldUnit)}\r\n            optionsData={data.unitData[unit.name].options}\r\n            unit={unit}\r\n          />\r\n        )}\r\n        {ui.showOptions && (\r\n          <Box>\r\n            <FantasticalRules\r\n              onChange={oldUnit => handleChange(oldUnit)}\r\n              unitData={data.unitData[unit.name]}\r\n              fantasticalRulesData={data.fantasticalRulesData}\r\n              unit={unit}\r\n            />\r\n          </Box>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Unit;\r\n","/**\r\n * Filter an object\r\n * @param {Object} obj The object that should be filtered\r\n * @param {function} fun A function accepting two arguments, the value and the key. must returns a boolean. (val, key) => bool\r\n * @return {Object} Returns a new Object, containing the filtered entries\r\n */\r\nfunction objFilter(obj, fun) {\r\n  let filtered = {};\r\n  for (const k in obj) {\r\n    if (fun(obj[k], k)) filtered = { ...filtered, [k]: obj[k] };\r\n  }\r\n  return filtered;\r\n}\r\n\r\n/**\r\n * Map over an object\r\n * @param {Object} obj The object that should be filtered\r\n * @param {function} fun A function accepting two arguments, the value and the key. (val, key) => any\r\n * @return {Object} Returns a new Object, containing the maped over entries\r\n */\r\nconst objMap = (obj, fn) =>\r\n  Object.fromEntries(Object.entries(obj).map(([k, v]) => [k, fn(v, k)]));\r\n\r\n/**\r\n * Reduce an object\r\n * @param {Object} obj The object that should be reduced\r\n * @param {function} fun A function accepting three arguments, the accumulator, value and the key. must returns a new accumulator. (acc, val, key) => acc\r\n * @return {Object} Returns the accumulator\r\n */\r\nconst objReduce = (obj, fun, acc) =>\r\n  Object.entries(obj).reduce((acc, [k, v]) => fun(acc, v, k), acc);\r\n\r\nexport { objFilter, objMap, objReduce };\r\n","import React from 'react';\r\nimport { Card, CardContent, Typography, CardHeader, Chip } from '@material-ui/core';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  LabelList,\r\n  PieChart,\r\n  Pie\r\n} from 'recharts';\r\nimport { objFilter, objReduce } from '../../helpers/utils';\r\n\r\nexport default function Statistics(props) {\r\n  const optionPoints = objReduce(\r\n    props.units,\r\n    (accumulator, unit) =>\r\n      unit.options.reduce(\r\n        (acc, option) => acc + props.unitData[unit.name].options[option].points,\r\n        accumulator\r\n      ),\r\n    0\r\n  );\r\n\r\n  const fantasticalPoints = objReduce(\r\n    props.units,\r\n    (accumulator, unit) =>\r\n      unit.fantasticalRules.reduce(\r\n        (acc, option) => acc + props.fantasticalRulesData[option].points,\r\n        accumulator\r\n      ),\r\n    0\r\n  );\r\n\r\n  const COLORS = ['#8884d8', '#82ca9d', '#FF8042'];\r\n  const totalPoints = props.armyCost;\r\n  const unitCount = Object.keys(props.units).length;\r\n  const mounted = objFilter(props.units, u => u.type === 'mounted');\r\n  const foot = objFilter(props.units, u => u.type === 'foot');\r\n  const ranged = objFilter(props.units, u => u.stats.shoot > 0);\r\n  const unitsCost = objReduce(\r\n    props.units,\r\n    (acc, u) => acc + props.unitData[u.name].points,\r\n    0\r\n  );\r\n\r\n  const dataUnitTypes = [\r\n    {\r\n      name: 'Mounted',\r\n      Units: Object.keys(mounted).length,\r\n      Points: objReduce(mounted, (acc, u) => acc + u.points, 0)\r\n    },\r\n    {\r\n      name: 'Foot',\r\n      Units: Object.keys(foot).length,\r\n      Points: objReduce(foot, (acc, u) => acc + u.points, 0)\r\n    },\r\n    {\r\n      name: 'Ranged',\r\n      Units: Object.keys(ranged).length,\r\n      Points: objReduce(ranged, (acc, u) => acc + u.points, 0)\r\n    }\r\n  ];\r\n\r\n  const dataPoints = [\r\n    { name: 'Units', value: unitsCost },\r\n    { name: 'Options', value: optionPoints },\r\n    { name: 'Fantastical Rules', value: fantasticalPoints }\r\n  ];\r\n\r\n  return (\r\n    <Card variant=\"outlined\" style={{ marginTop: 25, marginBottom: 25 }}>\r\n      <CardHeader title=\"Statistics\" />\r\n      <CardContent>\r\n        <Chip\r\n          label={totalPoints + ' Points'}\r\n          color=\"primary\"\r\n          style={{ marginRight: 25, marginBottom: 25 }}\r\n        />\r\n        <Chip\r\n          label={unitCount + ' Units'}\r\n          color=\"primary\"\r\n          style={{ marginRight: 25, marginBottom: 25 }}\r\n        />\r\n        <Chip\r\n          label={totalPoints / unitCount + ' Points per unit'}\r\n          color=\"primary\"\r\n          style={{ marginRight: 25, marginBottom: 25 }}\r\n        />\r\n        <Typography variant=\"h6\" style={{ marginTop: 25 }}>\r\n          Unit Distribution\r\n        </Typography>\r\n        <BarChart\r\n          width={500}\r\n          height={300}\r\n          data={dataUnitTypes}\r\n          margin={{\r\n            top: 20,\r\n            right: 30,\r\n            left: 20,\r\n            bottom: 5\r\n          }}\r\n        >\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"Units\" fill={COLORS[0]} minPointSize={3}>\r\n            <LabelList dataKey=\"Units\" position=\"top\" />\r\n          </Bar>\r\n          <Bar dataKey=\"Points\" fill={COLORS[1]} minPointSize={3}>\r\n            <LabelList dataKey=\"Points\" position=\"top\" />\r\n          </Bar>\r\n        </BarChart>\r\n        {unitsCost > 0 && (\r\n          <div>\r\n            <Typography variant=\"h6\" style={{ marginTop: 25 }}>\r\n              Point Distribution\r\n            </Typography>\r\n            <PieChart width={800} height={400}>\r\n              <Pie\r\n                data={dataPoints}\r\n                dataKey=\"value\"\r\n                label={renderCustomizedLabel}\r\n                labelLine={false}\r\n                outerRadius={80}\r\n              >\r\n                {dataPoints.map((entry, index) => (\r\n                  <Cell key={entry} fill={COLORS[index]} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n              <Legend />\r\n            </PieChart>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"black\"\r\n      textAnchor={x > cx ? 'start' : 'end'}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {`${(percent * 100).toFixed(0)}%`}\r\n    </text>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab, Box, Typography } from '@material-ui/core';\r\nimport Unit from 'components/Unit';\r\nimport unitData from 'assets/dragonRampantData/units.json';\r\nimport fantasticalRulesData from 'assets/dragonRampantData/fantasticalRules.json';\r\nimport Statistics from './Statistics';\r\n\r\nclass Roster extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      nextID: 0,\r\n      units: {},\r\n      unitOrder: [],\r\n      data: {\r\n        unitData: unitData,\r\n        unitNames: Object.keys(unitData).slice(1),\r\n        fantasticalRulesData: fantasticalRulesData\r\n      }\r\n    };\r\n  }\r\n\r\n  addUnit() {\r\n    const id = this.state.nextID;\r\n    this.setState({\r\n      nextID: id + 1,\r\n      units: {\r\n        ...this.state.units,\r\n        [id]: { ...this.state.data.unitData.Unit, options: [], fantasticalRules: [] }\r\n      },\r\n      unitOrder: [...this.state.unitOrder, id]\r\n    });\r\n  }\r\n\r\n  setUnit(id, name) {\r\n    this.setState({\r\n      units: {\r\n        ...this.state.units,\r\n        [id]: { ...this.state.data.unitData[name], options: [], fantasticalRules: [] }\r\n      }\r\n    });\r\n  }\r\n\r\n  removeUnit(id) {\r\n    const units = { ...this.state.units };\r\n    const cost = units[id].points;\r\n    delete units[id];\r\n    this.props.updateArmyCost(-cost);\r\n    this.setState({\r\n      units: { ...units },\r\n      unitOrder: this.state.unitOrder.filter(val => val !== id)\r\n    });\r\n  }\r\n\r\n  updateUnit(id, newAttributes) {\r\n    this.setState({\r\n      units: {\r\n        ...this.state.units,\r\n        [id]: { ...this.state.units[id], ...newAttributes }\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Box>\r\n        {!Object.keys(this.state.units).length && (\r\n          <Typography variant=\"h6\" style={{ marginBottom: 25 }}>\r\n            Click the button, to add your first unit!\r\n          </Typography>\r\n        )}\r\n        <Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\r\n          {this.state.unitOrder.map(id => (\r\n            <Unit\r\n              id={id}\r\n              key={id}\r\n              unit={this.state.units[id]}\r\n              updateUnit={newAttributes => this.updateUnit(id, newAttributes)}\r\n              updateArmyCost={this.props.updateArmyCost}\r\n              removeUnit={() => this.removeUnit(id)}\r\n              setUnit={name => this.setUnit(id, name)}\r\n              data={this.state.data}\r\n              ui={this.props.ui}\r\n            />\r\n          ))}\r\n          <Fab\r\n            color=\"secondary\"\r\n            style={{ marginLeft: 25, marginBottom: 25 }}\r\n            onClick={() => this.addUnit()}\r\n          >\r\n            <AddIcon />\r\n          </Fab>\r\n        </Box>\r\n        <Statistics\r\n          armyCost={this.props.armyCost}\r\n          units={this.state.units}\r\n          unitData={this.state.data.unitData}\r\n          fantasticalRulesData={this.state.data.fantasticalRulesData}\r\n        />\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Roster;\r\n","import React from 'react';\nimport { Container } from '@material-ui/core';\nimport BuilderAppBar from './BuilderAppBar';\nimport Roster from '../Roster';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      armyCost: 0,\n      showStats: true,\n      showRules: true,\n      showOptions: true\n    };\n  }\n\n  setUIOption(option, value) {\n    this.setState({\n      [option]: value\n    });\n  }\n\n  updateArmyCost(cost) {\n    this.setState({\n      armyCost: this.state.armyCost + cost\n    });\n  }\n\n  render() {\n    return (\n      <Container>\n        <BuilderAppBar\n          setUIOption={(option, value) => this.setUIOption(option, value)}\n          ui={this.state}\n        />\n        <Roster\n          ui={this.state}\n          armyCost={this.state.armyCost}\n          updateArmyCost={cost => this.updateArmyCost(cost)}\n        />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}