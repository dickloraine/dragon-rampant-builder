{"version":3,"sources":["components/ShowFeedback.js","components/ListDialog.js","components/Unit/UnitSelector.js","components/Unit/Options.js","components/Unit/FantasticalRules.js","components/Unit/StatBlock.js","components/Unit/SpecialRules.js","components/TextInputDialog.js","components/Unit/Actions.js","components/ExpandIcon.js","components/Unit/Unit.js","helpers/utils.js","components/Roster.js","components/LoadList.js","components/SaveList.js","components/DeleteList.js","components/ExportList.js","components/ImportList.js","components/Backup.js","components/Restore.js","components/SideMenu.js","components/AppBar.js","components/RulesSummary.js","components/SpellTable.js","components/Statistics/UnitDistributionChart.js","components/Statistics/PointDistributionChart.js","components/Statistics/Statistics.js","components/App.js","serviceWorker.js","index.js"],"names":["Alert","props","elevation","variant","ShowFeedback","feedback","setFeetback","handleClose","event","reason","open","Snackbar","autoHideDuration","onClose","severity","message","ListDialog","anchor","action","options","title","onOpen","React","useState","setOpen","opts","map","o","Dialog","DialogTitle","List","text","icon","ListItem","button","onClick","handleOnClick","key","ListItemIcon","UnitSelector","unit","name","customName","value","openFunc","Typography","Chip","label","points","color","style","marginLeft","marginBottom","Options","onChange","optionsData","useData","Object","keys","length","handleChange","option","e","newUnit","target","checked","filter","val","FormControl","component","marginTop","FormLabel","FormGroup","FormControlLabel","control","Checkbox","includes","FantasticalRules","unitData","fantasticalRulesData","fantasticalRules","toCheck","slice","excluded","handleOpen","v","width","height","Select","IconComponent","Box","multiple","input","Input","renderValue","MenuItem","indexOf","StatBlock","stats","shooting","shoot","shootingValue","shootValue","shootRange","TableContainer","Table","size","Hidden","xsDown","TableBody","TableRow","TableCell","attack","attackValue","move","defenceValue","courage","movement","armour","strengthPoints","smUp","SpecialRules","rules","Container","r","TextInputDialog","defaultValue","cancelText","okayText","margin","setValue","DialogContent","TextField","autoFocus","type","fullWidth","onKeyPress","handleKeyPressed","DialogActions","Button","Actions","id","roster","updateRoster","updateUnit","moveUnit","dir","unitOrder","index","nextIndex","display","alignItems","Tooltip","IconButton","flexGrow","nextId","nextID","units","useStyles","makeStyles","theme","expand","transform","transition","transitions","create","duration","shortest","expandOpen","ExpandIcon","expanded","classes","className","clsx","buildUnit","data","setStats","entries","add","rule","remove","fant","Unit","setUnit","removeUnit","ui","setExpanded","newAttributes","Card","maxWidth","viewMode","CardHeader","unitName","unitNames","Collapse","in","timeout","unmountOnExit","CardContent","editMode","objFilter","obj","fun","filtered","k","objMap","fn","fromEntries","objReduce","acc","reduce","packRoster","unpackRoster","compactRoster","Roster","flexDirection","flexWrap","Fab","LoadList","setRoster","setForceInputUpdate","showFeedback","showText","store","get","err","savedLists","list","push","getSavedLists","SaveList","saveRoster","set","saveList","DeleteList","ExportList","armyCost","JSON","stringify","values","join","exportFunc","opt","navigator","clipboard","writeText","copyToClipboard","ImportList","parse","Backup","BackupIcon","file","Blob","date","Date","offsetMs","getTimezoneOffset","getTime","toISOString","replace","saveAs","Restore","fileReader","fileDialog","useRef","restore","content","result","openFileDialog","current","click","ref","accept","FileReader","onloadend","readAsText","files","SideMenu","toggleDrawer","Drawer","Divider","AppBar","setUIOption","updateUI","reload","changeViewMode","clicked","newState","notClicked","newStates","ToggleUIButton","Icon","fontSize","position","Toolbar","smDown","mdUp","VisibilityIcon","EditIcon","RulesSummary","specialRules","rulesSummaryExpanded","rulesData","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","ListItemText","primary","secondary","SpellTable","spellsExpanded","spellData","spellcasterInRoster","minWidth","TableHead","align","spell","scope","difficulty","effect","UnitDistributionChart","colors","top","right","left","bottom","strokeDasharray","dataKey","fill","minPointSize","PointDistributionChart","renderCustomizedLabel","labelLine","outerRadius","entry","RADIAN","Math","PI","cx","cy","midAngle","innerRadius","percent","radius","x","cos","y","sin","percentValue","toFixed","textAnchor","dominantBaseline","Statistics","statisticsExpanded","useTheme","chipSize","useMediaQuery","breakpoints","down","optionPoints","accumulator","fantasticalPoints","COLORS","totalPoints","unitCount","mounted","u","foot","ranged","unitsCost","dataUnitTypes","Units","Points","dataPoints","marginRight","toPrecision","App","initialRoster","setUI","useReducer","state","forceInputUpdate","setFeedback","useEffect","Set","sort","getSpecialRules","border","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f2555828.chunk.js","sourcesContent":["import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nconst Alert = props => <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n\r\nconst ShowFeedback = ({ feedback, setFeetback }) => {\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setFeetback({ ...feedback, open: false });\r\n  };\r\n\r\n  return (\r\n    <Snackbar open={feedback.open} autoHideDuration={6000} onClose={handleClose}>\r\n      <Alert onClose={handleClose} severity={feedback.severity}>\r\n        {feedback.message}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nexport default ShowFeedback;\r\n","import React from 'react';\r\nimport { Dialog, DialogTitle, List, ListItem, ListItemIcon } from '@material-ui/core';\r\n\r\nconst ListDialog = ({\r\n  anchor,\r\n  action,\r\n  options,\r\n  title,\r\n  onClose = null,\r\n  onOpen = null\r\n}) => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n    if (onOpen) onOpen();\r\n  };\r\n  const handleClose = () => {\r\n    if (onClose) onClose();\r\n    setOpen(false);\r\n  };\r\n  const handleOnClick = text => {\r\n    action(text);\r\n    if (onClose) onClose();\r\n    handleClose();\r\n  };\r\n\r\n  const opts = typeof options[0] === 'string' ? options.map(o => [o, null]) : options;\r\n\r\n  return (\r\n    <>\r\n      {anchor(handleOpen)}\r\n      <Dialog onClose={handleClose} open={open}>\r\n        <DialogTitle>{title}</DialogTitle>\r\n        <List>\r\n          {opts.map(([text, icon]) => (\r\n            <ListItem button onClick={() => handleOnClick(text)} key={text}>\r\n              {icon && <ListItemIcon>{icon}</ListItemIcon>}\r\n              {text}\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListDialog;\r\n","import React from 'react';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport { Typography, Chip } from '@material-ui/core';\r\nimport ListDialog from '../ListDialog';\r\n\r\nconst UnitSelector = ({ unit, options, onClose }) => {\r\n  const name = unit.customName ? unit.customName : unit.name;\r\n\r\n  const setSelectedUnit = value => {\r\n    if (value !== unit.name) onClose(value);\r\n  };\r\n\r\n  return (\r\n    <ListDialog\r\n      action={setSelectedUnit}\r\n      anchor={openFunc => (\r\n        <>\r\n          <Typography variant=\"h5\" onClick={openFunc}>\r\n            <Chip label={unit.points} color=\"primary\" />\r\n            &nbsp;&nbsp;\r\n            {name}\r\n            <ArrowDropDownIcon />\r\n          </Typography>\r\n          {unit.customName && (\r\n            <Typography style={{ marginLeft: 45, marginBottom: -25 }}>\r\n              {unit.name}\r\n            </Typography>\r\n          )}\r\n        </>\r\n      )}\r\n      options={options}\r\n      title=\"Choose unit type\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default UnitSelector;\r\n","import React from 'react';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Typography } from '@material-ui/core';\r\nimport { useData } from '../App';\r\n\r\nexport default function Options({ unit, onChange }) {\r\n  const optionsData = useData('unitData')[unit.name].options;\r\n  if (!optionsData || !Object.keys(optionsData).length) return <div></div>;\r\n\r\n  const handleChange = option => e => {\r\n    let newUnit = { ...unit };\r\n\r\n    if (e.target.checked) {\r\n      newUnit.options = [...newUnit.options, option];\r\n    } else {\r\n      newUnit.options = newUnit.options.filter(val => val !== option);\r\n    }\r\n\r\n    onChange(newUnit);\r\n  };\r\n\r\n  return (\r\n    <FormControl component=\"fieldset\" style={{ marginTop: 10 }}>\r\n      <FormLabel component=\"legend\">Options</FormLabel>\r\n      <FormGroup>\r\n        {Object.keys(optionsData).map(option => (\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                onChange={handleChange(option)}\r\n                checked={unit.options.includes(option)}\r\n              />\r\n            }\r\n            label={\r\n              <Typography>\r\n                {option}{' '}\r\n                <Typography color=\"secondary\" component=\"span\">\r\n                  @{optionsData[option].points}\r\n                </Typography>\r\n              </Typography>\r\n            }\r\n            key={option}\r\n          />\r\n        ))}\r\n      </FormGroup>\r\n    </FormControl>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport Input from '@material-ui/core/Input';\r\nimport { Typography, Box, Select, MenuItem } from '@material-ui/core';\r\nimport { useData } from '../App';\r\n\r\nfunction FantasticalRules({ unit, onChange }) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const unitData = useData('unitData')[unit.name];\r\n  const fantasticalRulesData = useData('fantasticalRulesData');\r\n\r\n  let fantasticalRules = unitData.fantasticalRules;\r\n  if (!fantasticalRules || !fantasticalRules.length) return <div></div>;\r\n  if (fantasticalRules[0] === 'any')\r\n    fantasticalRules = Object.keys(fantasticalRulesData);\r\n  if (fantasticalRules[0] === 'exclude') {\r\n    const toCheck = fantasticalRules.slice(1);\r\n    fantasticalRules = Object.keys(fantasticalRulesData);\r\n    for (const excluded of toCheck) {\r\n      fantasticalRules = fantasticalRules.filter(val => val !== excluded);\r\n    }\r\n  }\r\n\r\n  const handleClose = () => setOpen(false);\r\n  const handleOpen = () => setOpen(true);\r\n\r\n  return (\r\n    <>\r\n      <FormLabel onClick={handleOpen} component=\"legend\">\r\n        Fantastical Rules <ArrowDropDownIcon />\r\n      </FormLabel>\r\n      {unit.fantasticalRules &&\r\n        unit.fantasticalRules.length > 0 &&\r\n        unit.fantasticalRules.map(name => (\r\n          <div key={name}>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={true}\r\n                  onClick={() =>\r\n                    onChange({\r\n                      ...unit,\r\n                      fantasticalRules: [\r\n                        ...unit.fantasticalRules.filter(v => v !== name)\r\n                      ]\r\n                    })\r\n                  }\r\n                />\r\n              }\r\n              label={\r\n                <Typography>\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}}\r\n                  </Typography>\r\n                </Typography>\r\n              }\r\n              key={name}\r\n            />\r\n          </div>\r\n        ))}\r\n      <FormControl style={{ marginTop: 10, width: 0, height: 0 }}>\r\n        <Select\r\n          open={open}\r\n          onClose={handleClose}\r\n          onOpen={handleOpen}\r\n          IconComponent={() => <Box />}\r\n          multiple\r\n          value={unit.fantasticalRules}\r\n          onChange={e => onChange({ ...unit, fantasticalRules: [...e.target.value] })}\r\n          input={<Input />}\r\n          renderValue={() => ' '}\r\n        >\r\n          {fantasticalRules.map(name => (\r\n            <MenuItem key={name} value={name}>\r\n              {unit.fantasticalRules.indexOf(name) < 0 && (\r\n                <Typography>\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}\r\n                  </Typography>\r\n                </Typography>\r\n              )}\r\n              {unit.fantasticalRules.indexOf(name) > -1 && (\r\n                <Typography color=\"primary\">\r\n                  {name}{' '}\r\n                  <Typography color=\"secondary\" component=\"span\">\r\n                    @{fantasticalRulesData[name].points}\r\n                  </Typography>\r\n                </Typography>\r\n              )}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FantasticalRules;\r\n","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { Hidden } from '@material-ui/core';\r\n\r\nexport default function StatBlock({ stats }) {\r\n  let shooting = stats.shoot ? `${stats.shoot}+` : '-';\r\n  let shootingValue = stats.shoot ? `${stats.shootValue}+/${stats.shootRange}\"` : '-';\r\n\r\n  return (\r\n    <TableContainer>\r\n      <Table size=\"small\">\r\n        <Hidden xsDown>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>Attack</TableCell>\r\n              <TableCell>{stats.attack}+</TableCell>\r\n              <TableCell>Attack Value</TableCell>\r\n              <TableCell>{stats.attackValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Move</TableCell>\r\n              <TableCell>{stats.move}+</TableCell>\r\n              <TableCell>Defence Value</TableCell>\r\n              <TableCell>{stats.defenceValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Shoot</TableCell>\r\n              <TableCell>{shooting}</TableCell>\r\n              <TableCell>Shoot Value</TableCell>\r\n              <TableCell>{shootingValue}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Courage</TableCell>\r\n              <TableCell>{stats.courage}+</TableCell>\r\n              <TableCell>Movement</TableCell>\r\n              <TableCell>{stats.movement}\"</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Armour</TableCell>\r\n              <TableCell>{stats.armour}</TableCell>\r\n              <TableCell>Strength Points</TableCell>\r\n              <TableCell>{stats.strengthPoints}</TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Hidden>\r\n        <Hidden smUp>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>A</TableCell>\r\n              <TableCell>{stats.attack}+</TableCell>\r\n              <TableCell>AV</TableCell>\r\n              <TableCell>{stats.attackValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>M</TableCell>\r\n              <TableCell>{stats.move}+</TableCell>\r\n              <TableCell>DV</TableCell>\r\n              <TableCell>{stats.defenceValue}+</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>S</TableCell>\r\n              <TableCell>{shooting}</TableCell>\r\n              <TableCell>SV</TableCell>\r\n              <TableCell>{shootingValue}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>C</TableCell>\r\n              <TableCell>{stats.courage}+</TableCell>\r\n              <TableCell>MR</TableCell>\r\n              <TableCell>{stats.movement}\"</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Ar</TableCell>\r\n              <TableCell>{stats.armour}</TableCell>\r\n              <TableCell>SP</TableCell>\r\n              <TableCell>{stats.strengthPoints}</TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Hidden>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Typography, List, Container, ListItem } from '@material-ui/core';\r\n\r\nexport default function SpecialRules({ rules }) {\r\n  if (rules && rules.length) {\r\n    return (\r\n      <Container>\r\n        <Typography variant=\"h6\" style={{ marginTop: 10 }}>\r\n          Special Rules\r\n        </Typography>\r\n        <List>\r\n          {rules.map(r => (\r\n            <ListItem key={r}>{r}</ListItem>\r\n          ))}\r\n        </List>\r\n      </Container>\r\n    );\r\n  }\r\n  return <></>;\r\n}\r\n","import React from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  TextField,\r\n  Button\r\n} from '@material-ui/core';\r\n\r\nconst TextInputDialog = ({\r\n  anchor,\r\n  action,\r\n  title = '',\r\n  label = '',\r\n  defaultValue = '',\r\n  cancelText = 'Cancel',\r\n  okayText = 'okay',\r\n  margin = 'dense',\r\n  onClose = null,\r\n  onOpen = null\r\n}) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [value, setValue] = React.useState();\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n    if (onOpen) onOpen();\r\n  };\r\n  const handleClose = () => {\r\n    if (onClose) onClose();\r\n    setOpen(false);\r\n  };\r\n  const handleKeyPressed = (value, key) => {\r\n    if (key === 'Enter') {\r\n      setValue(value);\r\n      action(value);\r\n      handleClose();\r\n    } else if (key === 'ESC') handleClose();\r\n  };\r\n  const handleAction = () => {\r\n    action(value);\r\n    if (onClose) onClose();\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {anchor(handleOpen)}\r\n      <Dialog onClose={handleClose} open={open}>\r\n        <DialogTitle>{title}</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin={margin}\r\n            label={label}\r\n            type=\"text\"\r\n            fullWidth\r\n            defaultValue={defaultValue || value}\r\n            onChange={e => setValue(e.target.value)}\r\n            onKeyPress={e => handleKeyPressed(e.target.value, e.key)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            {cancelText}\r\n          </Button>\r\n          <Button onClick={handleAction} color=\"primary\">\r\n            {okayText}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextInputDialog;\r\n","import React from 'react';\r\nimport PersonAddOutlinedIcon from '@material-ui/icons/PersonAddOutlined';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport { IconButton, Box, Tooltip } from '@material-ui/core';\r\nimport TextInputDialog from '../TextInputDialog';\r\n\r\nconst Actions = ({ id, unit, roster, updateRoster, updateUnit }) => {\r\n  const moveUnit = dir => {\r\n    const unitOrder = [...roster.unitOrder];\r\n    const index = roster.unitOrder.indexOf(id);\r\n    const nextIndex = dir ? index - 1 : index + 1;\r\n    if (nextIndex < 0 || nextIndex >= unitOrder.length) return;\r\n    unitOrder[nextIndex] = roster.unitOrder[index];\r\n    unitOrder[index] = roster.unitOrder[nextIndex];\r\n    updateRoster({ ...roster, unitOrder: unitOrder });\r\n  };\r\n  const moveLeft = () => moveUnit(1);\r\n  const moveRight = () => moveUnit(0);\r\n\r\n  const renameUnit = value => updateUnit({ customName: value });\r\n\r\n  const cloneUnit = () => {\r\n    const nextId = roster.nextID;\r\n\r\n    updateRoster({\r\n      nextID: nextId + 1,\r\n      units: {\r\n        ...roster.units,\r\n        [nextId]: { ...unit }\r\n      },\r\n      unitOrder: [...roster.unitOrder, nextId]\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box display=\"flex\" width=\"97%\" style={{ height: 25, marginTop: 10 }}>\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <Tooltip title=\"Move back\">\r\n            <IconButton onClick={moveLeft}>\r\n              <NavigateBeforeIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <Tooltip title=\"Move forward\">\r\n            <IconButton onClick={moveRight}>\r\n              <NavigateNextIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Box>\r\n        <Box flexGrow={1}></Box>\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <TextInputDialog\r\n            anchor={openFunc => (\r\n              <Tooltip title=\"Rename unit\">\r\n                <IconButton onClick={openFunc}>\r\n                  <TextFieldsIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            )}\r\n            action={renameUnit}\r\n            title=\"Enter the name for the unit\"\r\n            label=\"Unit name\"\r\n            defaultValue={unit.customName}\r\n            okayText=\"Rename\"\r\n          />\r\n          <Tooltip title=\"Clone unit\">\r\n            <IconButton onClick={cloneUnit}>\r\n              <PersonAddOutlinedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Actions;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest\r\n    })\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)'\r\n  }\r\n}));\r\n\r\nconst ExpandIcon = ({ expanded, onClick }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <IconButton\r\n      className={clsx(classes.expand, {\r\n        [classes.expandOpen]: expanded\r\n      })}\r\n      onClick={onClick}\r\n    >\r\n      <ExpandMoreIcon />\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default ExpandIcon;\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Button, CardHeader, Typography, Chip, Collapse } from '@material-ui/core';\r\nimport UnitSelector from './UnitSelector';\r\nimport Options from './Options';\r\nimport FantasticalRules from './FantasticalRules';\r\nimport StatBlock from './StatBlock';\r\nimport SpecialRules from './SpecialRules';\r\nimport Actions from './Actions';\r\nimport ExpandIcon from '../ExpandIcon';\r\nimport { useData } from '../App';\r\n\r\nconst buildUnit = (name, customName, options, fantasticalRules, data) => {\r\n  const unitData = data.unitData[name];\r\n  let unit = {\r\n    ...unitData,\r\n    customName: customName || '',\r\n    options: [...options],\r\n    fantasticalRules: [...fantasticalRules]\r\n  };\r\n\r\n  let points = unitData.points;\r\n  for (let option of unit.options) {\r\n    option = unitData.options[option];\r\n    points += option.points;\r\n\r\n    if (option.setStats) {\r\n      for (const [key, val] of Object.entries(option.setStats)) {\r\n        unit = { ...unit, stats: { ...unit.stats, [key]: val } };\r\n      }\r\n    }\r\n\r\n    if (option.add) {\r\n      for (const rule of option.add) {\r\n        unit.rules = [...unit.rules, rule];\r\n      }\r\n    }\r\n\r\n    if (option.remove) {\r\n      for (const rule of option.remove) {\r\n        unit.rules = unit.rules.filter(val => val !== rule);\r\n      }\r\n    }\r\n  }\r\n  for (let fant of unit.fantasticalRules) {\r\n    fant = data.fantasticalRulesData[fant];\r\n    points += fant.points;\r\n    unit.rules = [...unit.rules, fant.name];\r\n  }\r\n\r\n  unit = { ...unit, points: points };\r\n  return unit;\r\n};\r\n\r\nfunction Unit({ id, unit, roster, updateRoster, setUnit, removeUnit, ui }) {\r\n  const data = useData();\r\n  const [expanded, setExpanded] = React.useState(true);\r\n  const handleExpandClick = () => setExpanded(!expanded);\r\n\r\n  const changeUnit = unitName => setUnit(id, unitName);\r\n\r\n  const updateUnit = newAttributes => {\r\n    updateRoster({\r\n      units: {\r\n        ...roster.units,\r\n        [id]: { ...roster.units[id], ...newAttributes }\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = unit => {\r\n    unit = buildUnit(\r\n      unit.name,\r\n      unit.customName,\r\n      unit.options,\r\n      unit.fantasticalRules,\r\n      data\r\n    );\r\n    updateUnit({ ...unit });\r\n  };\r\n\r\n  return (\r\n    <Card style={{ marginBottom: 25, maxWidth: 400, width: '100%' }}>\r\n      {!ui.viewMode && (\r\n        <CardHeader\r\n          title={\r\n            <UnitSelector unit={unit} onClose={changeUnit} options={data.unitNames} />\r\n          }\r\n          action={\r\n            <Button onClick={() => removeUnit(id)}>\r\n              <CloseIcon />\r\n            </Button>\r\n          }\r\n        />\r\n      )}\r\n      {ui.viewMode && (\r\n        <CardHeader\r\n          title={\r\n            <>\r\n              <Typography variant=\"h5\">\r\n                <Chip label={unit.points} color=\"primary\" />\r\n                &nbsp;&nbsp;\r\n                {unit.customName ? unit.customName : unit.name}\r\n              </Typography>\r\n              {unit.customName && (\r\n                <Typography style={{ marginLeft: 45, marginBottom: -25 }}>\r\n                  {unit.name}\r\n                </Typography>\r\n              )}\r\n            </>\r\n          }\r\n          action={<ExpandIcon expanded={expanded} onClick={handleExpandClick} />}\r\n        />\r\n      )}\r\n      <Collapse in={!ui.viewMode || expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n          {!ui.editMode && (\r\n            <>\r\n              <StatBlock stats={unit.stats} />\r\n              <SpecialRules rules={unit.rules} />\r\n            </>\r\n          )}\r\n          {!ui.viewMode && (\r\n            <>\r\n              <Options onChange={handleChange} unit={unit} />\r\n              <FantasticalRules onChange={handleChange} unit={unit} />\r\n              <Actions\r\n                id={id}\r\n                unit={unit}\r\n                roster={roster}\r\n                updateRoster={updateRoster}\r\n                updateUnit={updateUnit}\r\n              />\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Unit;\r\nexport { buildUnit };\r\n","/**\r\n * Filter an object\r\n * @param {Object} obj The object that should be filtered\r\n * @param {function} fun A function accepting two arguments, the value and the key. must returns a boolean. (val, key) => bool\r\n * @return {Object} Returns a new Object, containing the filtered entries\r\n */\r\nconst objFilter = (obj, fun) => {\r\n  let filtered = {};\r\n  for (const k in obj) {\r\n    if (fun(obj[k], k)) filtered = { ...filtered, [k]: obj[k] };\r\n  }\r\n  return filtered;\r\n};\r\n\r\n/**\r\n * Map over an object\r\n * @param {Object} obj The object that should be filtered\r\n * @param {function} fun A function accepting two arguments, the value and the key. (val, key) => any\r\n * @return {Object} Returns a new Object, containing the maped over entries\r\n */\r\nconst objMap = (obj, fn) =>\r\n  Object.fromEntries(Object.entries(obj).map(([k, v]) => [k, fn(v, k)]));\r\n\r\n/**\r\n * Reduce an object\r\n * @param {Object} obj The object that should be reduced\r\n * @param {function} fun A function accepting three arguments, the accumulator, value and the key. must returns a new accumulator. (acc, val, key) => acc\r\n * @return {Object} Returns the accumulator\r\n */\r\nconst objReduce = (obj, fun, acc) =>\r\n  Object.entries(obj).reduce((acc, [k, v]) => fun(acc, v, k), acc);\r\n\r\nexport { objFilter, objMap, objReduce };\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab, Box, Typography } from '@material-ui/core';\r\nimport Unit, { buildUnit } from './Unit';\r\nimport { objMap } from 'helpers/utils';\r\nimport { useData } from './App';\r\n\r\nconst packRoster = roster => {\r\n  let units = { ...roster.units };\r\n  units = objMap(units, unit => ({\r\n    name: unit.name,\r\n    customName: unit.customName || '',\r\n    options: unit.options,\r\n    fantasticalRules: unit.fantasticalRules\r\n  }));\r\n  return { ...roster, units: units };\r\n};\r\n\r\nconst unpackRoster = (compactRoster, data) => {\r\n  const units = objMap(compactRoster.units, unit =>\r\n    buildUnit(unit.name, unit.customName, unit.options, unit.fantasticalRules, data)\r\n  );\r\n  return { ...compactRoster, units: units };\r\n};\r\n\r\nconst Roster = ({ roster, updateRoster, ui }) => {\r\n  const data = useData();\r\n\r\n  const addUnit = () => {\r\n    const id = roster.nextID;\r\n\r\n    updateRoster({\r\n      nextID: id + 1,\r\n      units: {\r\n        ...roster.units,\r\n        [id]: { ...data.unitData.Unit, options: [], fantasticalRules: [] }\r\n      },\r\n      unitOrder: [...roster.unitOrder, id]\r\n    });\r\n  };\r\n\r\n  const setUnit = (id, name) => {\r\n    updateRoster({\r\n      units: {\r\n        ...roster.units,\r\n        [id]: { ...data.unitData[name], options: [], fantasticalRules: [] }\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeUnit = id => {\r\n    const units = { ...roster.units };\r\n    delete units[id];\r\n    updateRoster({\r\n      units: { ...units },\r\n      unitOrder: roster.unitOrder.filter(val => val !== id)\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\r\n        {roster.unitOrder.map(id => (\r\n          <Unit\r\n            id={id}\r\n            key={id}\r\n            unit={roster.units[id]}\r\n            roster={roster}\r\n            updateRoster={updateRoster}\r\n            removeUnit={removeUnit}\r\n            setUnit={setUnit}\r\n            ui={ui}\r\n            unitOrder={roster.unitOrder}\r\n          />\r\n        ))}\r\n      </Box>\r\n      {!Object.keys(roster.units).length && !ui.viewMode && (\r\n        <Typography variant=\"h6\" style={{ marginBottom: 25 }}>\r\n          Click the button to add your first unit!\r\n        </Typography>\r\n      )}\r\n      {!ui.viewMode && (\r\n        <Fab\r\n          color=\"secondary\"\r\n          style={{ marginLeft: 25, marginBottom: 25 }}\r\n          onClick={addUnit}\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Roster;\r\nexport { packRoster, unpackRoster };\r\n","import React from 'react';\r\nimport SaveOutlinedIcon from '@material-ui/icons/SaveOutlined';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport store from 'store';\r\nimport { unpackRoster } from './Roster';\r\nimport ListDialog from './ListDialog';\r\nimport { useData } from './App';\r\n\r\nexport default function LoadList({\r\n  setRoster,\r\n  setForceInputUpdate,\r\n  showFeedback,\r\n  onClose = null,\r\n  showText = false\r\n}) {\r\n  const data = useData();\r\n\r\n  const loadList = name => {\r\n    try {\r\n      const roster = unpackRoster(store.get('savedRosters')[name], data);\r\n      setRoster({ ...roster });\r\n      setForceInputUpdate();\r\n      showFeedback(`${name} loaded!`, 'success');\r\n    } catch (err) {\r\n      showFeedback(`Could not load ${name}!`, 'error');\r\n    }\r\n  };\r\n\r\n  const getSavedLists = () => {\r\n    const savedLists = [];\r\n    for (const list in store.get('savedRosters')) savedLists.push(list);\r\n    return savedLists;\r\n  };\r\n\r\n  return (\r\n    <ListDialog\r\n      action={loadList}\r\n      anchor={openFunc => (\r\n        <>\r\n          <Tooltip title=\"Load List\">\r\n            <IconButton color=\"inherit\" onClick={openFunc}>\r\n              <SaveOutlinedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {showText && <Typography onClick={openFunc}>Load List</Typography>}\r\n        </>\r\n      )}\r\n      options={getSavedLists()}\r\n      title=\"Choose List to load\"\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport store from 'store';\r\nimport { packRoster } from './Roster';\r\n\r\nexport default function SaveList({\r\n  roster,\r\n  showFeedback,\r\n  onClose = null,\r\n  showText = false\r\n}) {\r\n  const saveList = () => {\r\n    if (roster.name === 'New List') return false;\r\n    let savedLists = store.get('savedRosters') || [];\r\n    savedLists = {\r\n      ...savedLists,\r\n      [roster.name]: { ...packRoster(roster) }\r\n    };\r\n    store.set('savedRosters', savedLists);\r\n    return true;\r\n  };\r\n\r\n  const saveRoster = () => {\r\n    if (saveList()) showFeedback('Saved!', 'success');\r\n    else showFeedback('You have to give the list a name!', 'error');\r\n    if (onClose) onClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Save List\">\r\n        <IconButton color=\"inherit\" onClick={saveRoster}>\r\n          <SaveIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={saveRoster}>Save List</Typography>}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport store from 'store';\r\nimport ListDialog from './ListDialog';\r\n\r\nexport default function DeleteList({ showFeedback, onClose = null, showText = false }) {\r\n  const removeList = name => {\r\n    if (name === 'Delete all') store.set('savedRosters', []);\r\n    else {\r\n      let savedLists = store.get('savedRosters');\r\n      delete savedLists[name];\r\n      store.set('savedRosters', savedLists);\r\n    }\r\n    showFeedback('Deleted!', 'success');\r\n  };\r\n\r\n  const getSavedLists = () => {\r\n    const savedLists = [];\r\n    for (const list in store.get('savedRosters')) savedLists.push(list);\r\n    savedLists.push('Delete all');\r\n    return savedLists;\r\n  };\r\n\r\n  return (\r\n    <ListDialog\r\n      action={removeList}\r\n      anchor={openFunc => (\r\n        <>\r\n          <Tooltip title=\"Delete List\">\r\n            <IconButton color=\"inherit\" onClick={openFunc}>\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {showText && <Typography onClick={openFunc}>Delete List</Typography>}\r\n        </>\r\n      )}\r\n      options={getSavedLists()}\r\n      title=\"Choose List to delete\"\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\r\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport { packRoster } from './Roster';\r\nimport ListDialog from './ListDialog';\r\n\r\nconst copyToClipboard = text => navigator.clipboard.writeText(text);\r\n\r\nconst ExportList = ({\r\n  roster,\r\n  armyCost,\r\n  showFeedback,\r\n  onClose = null,\r\n  showText = false\r\n}) => {\r\n  const getImportableString = () => JSON.stringify(packRoster(roster));\r\n\r\n  const getListAsText = () => {\r\n    let text = [];\r\n    text.push(`${roster.name} @${armyCost} points`);\r\n    text.push('=====================================');\r\n    for (const unit of Object.values(roster.units)) {\r\n      text.push('');\r\n      text.push(\r\n        `${unit.customName ? unit.customName + ' (' + unit.name + ')' : unit.name} @${\r\n          unit.points\r\n        } points`\r\n      );\r\n      text.push('-----------------------------------');\r\n\r\n      const options = [...unit.options, ...unit.fantasticalRules];\r\n      if (options.length) {\r\n        for (const option of options) text.push(`- ${option}`);\r\n      }\r\n    }\r\n    text.push('');\r\n    return text.join('\\n');\r\n  };\r\n\r\n  const getListAsMarkdown = () => {\r\n    let text = [];\r\n    text.push(`**${roster.name} @${armyCost} points**`);\r\n    for (const unit of Object.values(roster.units)) {\r\n      text.push('');\r\n      text.push(\r\n        `* ${unit.customName ? unit.customName + ' (' + unit.name + ')' : unit.name} @${\r\n          unit.points\r\n        } points`\r\n      );\r\n\r\n      const options = [...unit.options, ...unit.fantasticalRules];\r\n      if (options.length) {\r\n        text.push('');\r\n        for (const option of options) text.push(`    - ${option}`);\r\n      }\r\n    }\r\n    text.push('');\r\n    return text.join('\\n');\r\n  };\r\n\r\n  const options = [\r\n    ['As an importable String', <ArrowDownwardIcon />, getImportableString],\r\n    ['As text', <FormatAlignLeftIcon />, getListAsText],\r\n    ['As markdown text', <FormatAlignJustifyIcon />, getListAsMarkdown]\r\n  ];\r\n\r\n  const exportList = text => {\r\n    let exportFunc = options.reduce(\r\n      (acc, opt) => (opt[0] === text ? opt[2] : acc),\r\n      null\r\n    );\r\n\r\n    try {\r\n      const list = exportFunc(roster);\r\n      copyToClipboard(list);\r\n      showFeedback('List copied to clipboard!', 'success');\r\n    } catch (err) {\r\n      showFeedback('Could not export the list!', 'error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ListDialog\r\n      action={exportList}\r\n      anchor={openFunc => (\r\n        <>\r\n          <Tooltip title=\"Export\">\r\n            <IconButton color=\"inherit\" onClick={openFunc}>\r\n              <ShareIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {showText && <Typography onClick={openFunc}>Export List</Typography>}\r\n        </>\r\n      )}\r\n      options={options}\r\n      title=\"Chose how to export\"\r\n      onClose={onClose}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ExportList;\r\n","import React from 'react';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport { unpackRoster } from './Roster';\r\nimport TextInputDialog from './TextInputDialog';\r\nimport { useData } from './App';\r\n\r\nconst ImportList = ({\r\n  setRoster,\r\n  setForceInputUpdate,\r\n  showFeedback,\r\n  onClose = null,\r\n  showText = false\r\n}) => {\r\n  const data = useData();\r\n\r\n  const handleImport = value => {\r\n    if (!value) return;\r\n    try {\r\n      const list = unpackRoster(JSON.parse(value), data);\r\n      setRoster({ ...list });\r\n      setForceInputUpdate();\r\n      showFeedback('List imported!', 'success');\r\n    } catch (err) {\r\n      showFeedback('Could not import the list!', 'error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TextInputDialog\r\n      anchor={openFunc => (\r\n        <>\r\n          <Tooltip title=\"Import list\">\r\n            <IconButton color=\"inherit\" onClick={openFunc}>\r\n              <GetAppIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {showText && <Typography onClick={openFunc}>Import list</Typography>}\r\n        </>\r\n      )}\r\n      action={handleImport}\r\n      title=\"Enter the import string\"\r\n      label=\"Exported String\"\r\n      okayText=\"Import\"\r\n      onClose={onClose}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ImportList;\r\n","import React from 'react';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport store from 'store';\r\nimport { saveAs } from 'file-saver';\r\n\r\nconst Backup = ({ showText = null, onClose = null }) => {\r\n  const backup = () => {\r\n    const savedLists = JSON.stringify(store.get('savedRosters') || []);\r\n    const file = new Blob([savedLists], { type: 'text/plain;charset=utf-8' });\r\n\r\n    let date = new Date();\r\n    const offsetMs = date.getTimezoneOffset() * 60 * 1000;\r\n    date = new Date(date.getTime() - offsetMs);\r\n    date = date\r\n      .toISOString()\r\n      .slice(0, 10)\r\n      .replace(/-/g, '/');\r\n\r\n    saveAs(file, `${date}_DRAB.sav`);\r\n    if (onClose) onClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Backup\">\r\n        <IconButton color=\"inherit\" onClick={BackupIcon}>\r\n          <BackupIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={backup}>Backup</Typography>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Backup;\r\n","import React from 'react';\r\nimport RestorePageIcon from '@material-ui/icons/RestorePage';\r\nimport { Tooltip, IconButton, Typography } from '@material-ui/core';\r\nimport store from 'store';\r\n\r\nconst Restore = ({\r\n  setForceInputUpdate,\r\n  showText = null,\r\n  showFeedback,\r\n  onClose = null\r\n}) => {\r\n  let fileReader;\r\n  const fileDialog = React.useRef();\r\n\r\n  const restore = () => {\r\n    try {\r\n      let savedLists = store.get('savedRosters') || [];\r\n      let content = fileReader.result;\r\n      content = JSON.parse(content);\r\n      savedLists = { ...savedLists, ...content };\r\n      store.set('savedRosters', savedLists);\r\n      setForceInputUpdate();\r\n      showFeedback(`Restored!`, 'success');\r\n    } catch (err) {\r\n      showFeedback(`Could not restore!`, 'error');\r\n    }\r\n    if (onClose) onClose();\r\n  };\r\n\r\n  const handleFileChosen = event => {\r\n    fileReader = new FileReader();\r\n    fileReader.onloadend = restore;\r\n    fileReader.readAsText(event.target.files[0]);\r\n  };\r\n\r\n  const openFileDialog = () => fileDialog.current.click();\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Backup\">\r\n        <IconButton color=\"inherit\" onClick={openFileDialog}>\r\n          <RestorePageIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      {showText && <Typography onClick={openFileDialog}>Restore</Typography>}\r\n      <input\r\n        type=\"file\"\r\n        ref={fileDialog}\r\n        style={{ display: 'none' }}\r\n        id=\"restoreFile\"\r\n        accept=\".sav\"\r\n        onChange={handleFileChosen}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Restore;\r\n","import React from 'react';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { List, ListItem, Drawer, Divider } from '@material-ui/core';\r\nimport LoadList from './LoadList';\r\nimport SaveList from './SaveList';\r\nimport DeleteList from './DeleteList';\r\nimport ExportList from './ExportList';\r\nimport ImportList from './ImportList';\r\nimport Backup from './Backup';\r\nimport Restore from './Restore';\r\n\r\nexport default function SideMenu({\r\n  roster,\r\n  setRoster,\r\n  armyCost,\r\n  setForceInputUpdate,\r\n  showFeedback\r\n}) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const toggleDrawer = open => event => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n    setOpen(open);\r\n  };\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <MenuIcon onClick={toggleDrawer(true)} />\r\n      <Drawer open={open} onClose={toggleDrawer(false)}>\r\n        <List>\r\n          <ListItem button key={'Save'}>\r\n            <SaveList\r\n              roster={roster}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <ListItem button key={'Load'}>\r\n            <LoadList\r\n              setRoster={setRoster}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <ListItem button key={'Delete'}>\r\n            <DeleteList\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <Divider />\r\n          <ListItem button key={'Export'}>\r\n            <ExportList\r\n              roster={roster}\r\n              armyCost={armyCost}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <ListItem button key={'Import'}>\r\n            <ImportList\r\n              setRoster={setRoster}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n              showFeedback={showFeedback}\r\n              onClose={handleClose}\r\n              showText={true}\r\n            />\r\n          </ListItem>\r\n          <Divider />\r\n          <ListItem button key={'Backup'}>\r\n            <Backup onClose={handleClose} showText={true} />\r\n          </ListItem>\r\n          <ListItem button key={'Restore'}>\r\n            <Restore\r\n              onClose={handleClose}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n              showText={true}\r\n              showFeedback={showFeedback}\r\n            />\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { AppBar as AppBarMaterial, Box } from '@material-ui/core';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { IconButton, Fab, Tooltip, Hidden } from '@material-ui/core';\r\nimport LoadList from './LoadList';\r\nimport SaveList from './SaveList';\r\nimport SideMenu from './SideMenu';\r\n\r\nexport default function AppBar({\r\n  roster,\r\n  ui,\r\n  setUIOption,\r\n  updateUI,\r\n  armyCost,\r\n  setRoster,\r\n  setForceInputUpdate,\r\n  showFeedback,\r\n  reload\r\n}) {\r\n  const changeViewMode = (clicked, newState) => {\r\n    const notClicked = clicked === 'viewMode' ? 'editMode' : 'viewMode';\r\n    let newStates = { [clicked]: newState };\r\n    if (newState) newStates = { ...newStates, [notClicked]: false };\r\n    updateUI(newStates);\r\n  };\r\n\r\n  const ToggleUIButton = ({ option, Icon, title, onClick = setUIOption }) => {\r\n    return (\r\n      <Tooltip title={title}>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          onClick={() => {\r\n            onClick(option, !ui[option]);\r\n          }}\r\n        >\r\n          <Icon fontSize=\"small\" color={ui[option] ? 'inherit' : 'disabled'} />\r\n        </IconButton>\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\">\r\n      <AppBarMaterial position=\"fixed\">\r\n        <Toolbar>\r\n          <Box display=\"flex\" alignItems=\"center\">\r\n            <SideMenu\r\n              roster={roster}\r\n              setRoster={setRoster}\r\n              armyCost={armyCost}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n              showFeedback={showFeedback}\r\n            />\r\n            <Hidden smDown>\r\n              <Typography variant=\"h5\">\r\n                &nbsp;&nbsp;Dragon Rampant Army Builder&nbsp;&nbsp;\r\n              </Typography>\r\n            </Hidden>\r\n            <Hidden xsDown mdUp>\r\n              <Typography variant=\"h5\">&nbsp;&nbsp;DRAB&nbsp;&nbsp;</Typography>\r\n            </Hidden>\r\n            <IconButton color=\"inherit\" onClick={reload}>\r\n              <ReplayIcon />\r\n            </IconButton>\r\n            <SaveList roster={roster} showFeedback={showFeedback} />\r\n            <LoadList\r\n              setRoster={setRoster}\r\n              showFeedback={showFeedback}\r\n              setForceInputUpdate={setForceInputUpdate}\r\n            />\r\n          </Box>\r\n          <Box flexGrow={1}></Box>\r\n          <Box display=\"flex\" alignItems=\"center\">\r\n            <ToggleUIButton\r\n              option=\"viewMode\"\r\n              Icon={VisibilityIcon}\r\n              title=\"View mode\"\r\n              onClick={changeViewMode}\r\n            />\r\n            <ToggleUIButton\r\n              option=\"editMode\"\r\n              Icon={EditIcon}\r\n              title=\"Edit mode\"\r\n              onClick={changeViewMode}\r\n            />\r\n            <Hidden smDown>\r\n              <Typography variant=\"h6\">\r\n                &nbsp;&nbsp;&nbsp;&nbsp;Total Points&nbsp;&nbsp;\r\n                <Fab color=\"secondary\" size=\"small\">\r\n                  <Typography variant=\"h6\">{armyCost}</Typography>\r\n                </Fab>\r\n              </Typography>\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n              <Typography variant=\"h6\">\r\n                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                <Fab color=\"secondary\" size=\"small\">\r\n                  <Typography variant=\"h6\">{armyCost}</Typography>\r\n                </Fab>\r\n              </Typography>\r\n            </Hidden>\r\n          </Box>\r\n        </Toolbar>\r\n      </AppBarMaterial>\r\n      <Toolbar />\r\n    </Box>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Typography,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport { useData } from './App';\r\n\r\nexport default function RulesSummary({\r\n  specialRules,\r\n  setUIOption,\r\n  rulesSummaryExpanded\r\n}) {\r\n  const rulesData = useData('rulesData');\r\n  return (\r\n    <ExpansionPanel\r\n      expanded={rulesSummaryExpanded}\r\n      onChange={() => setUIOption('rulesSummaryExpanded', !rulesSummaryExpanded)}\r\n      style={{ maxWidth: 1210 }}\r\n    >\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n        <Typography variant=\"h5\">Rules Summary</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails style={{ maxWidth: 800 }}>\r\n        <List>\r\n          {specialRules.map(rule => (\r\n            <ListItem key={rule}>\r\n              <ListItemText primary={rule} secondary={rulesData[rule] || ''} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {\r\n  Typography,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  TableContainer,\r\n  Table,\r\n  TableRow,\r\n  TableHead,\r\n  TableCell,\r\n  TableBody,\r\n  Hidden\r\n} from '@material-ui/core';\r\nimport { useData } from './App';\r\n\r\nexport default function SpellTable({ setUIOption, specialRules, spellsExpanded }) {\r\n  const spellData = useData('spellData');\r\n\r\n  const spellcasterInRoster = () => {\r\n    for (const rule of specialRules) {\r\n      if (rule === 'Spellcaster' || rule === 'Wizardlings') return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {spellcasterInRoster() && (\r\n        <ExpansionPanel\r\n          expanded={spellsExpanded}\r\n          onChange={() => setUIOption('spellsExpanded', !spellsExpanded)}\r\n          style={{ maxWidth: 1210 }}\r\n        >\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"h5\">Spell Table</Typography>\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails style={{ maxWidth: 800 }}>\r\n            <TableContainer>\r\n              <Table size=\"small\" style={{ minWidth: 650 }}>\r\n                <TableHead>\r\n                  <TableRow key=\"headspelltable\">\r\n                    <TableCell style={{ minWidth: 100 }}>Spell name</TableCell>\r\n                    <Hidden smDown>\r\n                      <TableCell align=\"center\">Difficulty</TableCell>\r\n                    </Hidden>\r\n                    <Hidden mdUp>\r\n                      <TableCell align=\"center\">Dif</TableCell>\r\n                    </Hidden>\r\n                    <TableCell>Target</TableCell>\r\n                    <TableCell>Duration</TableCell>\r\n                    <TableCell>Effect</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {Object.values(spellData).map(spell => (\r\n                    <TableRow key={spell.name}>\r\n                      <TableCell component=\"th\" scope=\"row\">\r\n                        {spell.name}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">{spell.difficulty}+</TableCell>\r\n                      <TableCell>{spell.target}</TableCell>\r\n                      <TableCell>{spell.duration}</TableCell>\r\n                      <TableCell>{spell.effect}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Legend,\r\n  LabelList,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\n\r\nexport default function UnitDistributionChart({ data, height, colors }) {\r\n  return (\r\n    <ResponsiveContainer height={height}>\r\n      <BarChart\r\n        data={data}\r\n        margin={{\r\n          top: 20,\r\n          right: 30,\r\n          left: 20,\r\n          bottom: 5\r\n        }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"name\" />\r\n        <YAxis />\r\n        <Legend />\r\n        <Bar dataKey=\"Units\" fill={colors[0]} minPointSize={3}>\r\n          <LabelList dataKey=\"Units\" position=\"top\" />\r\n        </Bar>\r\n        <Bar dataKey=\"Points\" fill={colors[1]} minPointSize={3}>\r\n          <LabelList dataKey=\"Points\" position=\"top\" />\r\n        </Bar>\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Cell, Tooltip, Legend, PieChart, Pie, ResponsiveContainer } from 'recharts';\r\n\r\nexport default function PointDistributionChart({ data, height, colors }) {\r\n  return (\r\n    <ResponsiveContainer height={height}>\r\n      <PieChart>\r\n        <Pie\r\n          data={data}\r\n          dataKey=\"value\"\r\n          label={renderCustomizedLabel}\r\n          labelLine={false}\r\n          outerRadius={80}\r\n        >\r\n          {data.map((entry, index) => (\r\n            <Cell key={entry} fill={colors[index]} />\r\n          ))}\r\n        </Pie>\r\n        <Tooltip />\r\n        <Legend />\r\n      </PieChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n  const percentValue = (percent * 100).toFixed(0);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"black\"\r\n      textAnchor={x > cx ? 'start' : 'end'}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {percentValue > 0 ? `${percentValue}%` : ''}\r\n    </text>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {\r\n  Typography,\r\n  Chip,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  useMediaQuery\r\n} from '@material-ui/core';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { objFilter, objReduce } from '../../helpers/utils';\r\nimport UnitDistributionChart from './UnitDistributionChart';\r\nimport PointDistributionChart from './PointDistributionChart';\r\nimport { useData } from '../App';\r\n\r\nexport default function Statistics({\r\n  armyCost,\r\n  units,\r\n  statisticsExpanded,\r\n  setUIOption\r\n}) {\r\n  const unitData = useData('unitData');\r\n  const fantasticalRulesData = useData('fantasticalRulesData');\r\n  const theme = useTheme();\r\n  const chipSize = useMediaQuery(theme.breakpoints.down('sm')) ? 'small' : 'medium';\r\n\r\n  const optionPoints = objReduce(\r\n    units,\r\n    (accumulator, unit) =>\r\n      unit.options.reduce(\r\n        (acc, option) => acc + unitData[unit.name].options[option].points,\r\n        accumulator\r\n      ),\r\n    0\r\n  );\r\n\r\n  const fantasticalPoints = objReduce(\r\n    units,\r\n    (accumulator, unit) =>\r\n      unit.fantasticalRules.reduce(\r\n        (acc, option) => acc + fantasticalRulesData[option].points,\r\n        accumulator\r\n      ),\r\n    0\r\n  );\r\n\r\n  const COLORS = ['#8884d8', '#82ca9d', '#FF8042'];\r\n  const totalPoints = armyCost;\r\n  const unitCount = Object.keys(units).length;\r\n  const mounted = objFilter(units, u => u.type === 'mounted');\r\n  const foot = objFilter(units, u => u.type === 'foot');\r\n  const ranged = objFilter(units, u => u.stats.shoot > 0);\r\n  const unitsCost = objReduce(units, (acc, u) => acc + unitData[u.name].points, 0);\r\n\r\n  const dataUnitTypes = [\r\n    {\r\n      name: 'Mounted',\r\n      Units: Object.keys(mounted).length,\r\n      Points: objReduce(mounted, (acc, u) => acc + u.points, 0)\r\n    },\r\n    {\r\n      name: 'Foot',\r\n      Units: Object.keys(foot).length,\r\n      Points: objReduce(foot, (acc, u) => acc + u.points, 0)\r\n    },\r\n    {\r\n      name: 'Ranged',\r\n      Units: Object.keys(ranged).length,\r\n      Points: objReduce(ranged, (acc, u) => acc + u.points, 0)\r\n    }\r\n  ];\r\n\r\n  const dataPoints = [\r\n    { name: 'Units', value: unitsCost },\r\n    { name: 'Options', value: optionPoints < 0 ? 0 : optionPoints },\r\n    { name: 'Fantastical Rules', value: fantasticalPoints }\r\n  ];\r\n\r\n  return (\r\n    <ExpansionPanel\r\n      expanded={statisticsExpanded}\r\n      onChange={() => setUIOption('statisticsExpanded', !statisticsExpanded)}\r\n      style={{ maxWidth: 1210 }}\r\n    >\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n        <Typography variant=\"h5\">Statistics</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails>\r\n        <div>\r\n          <Chip\r\n            label={totalPoints + ' Points'}\r\n            color=\"primary\"\r\n            size={chipSize}\r\n            style={{ marginRight: 10, marginBottom: 25 }}\r\n          />\r\n          <Chip\r\n            label={unitCount + ' Units'}\r\n            color=\"primary\"\r\n            size={chipSize}\r\n            style={{ marginRight: 10, marginBottom: 25 }}\r\n          />\r\n          <Chip\r\n            label={\r\n              (totalPoints / (unitCount ? unitCount : 1)).toPrecision(2) +\r\n              ' Points per unit'\r\n            }\r\n            color=\"primary\"\r\n            size={chipSize}\r\n            style={{ marginRight: 10, marginBottom: 25 }}\r\n          />\r\n          {unitsCost > 0 && (\r\n            <>\r\n              <Typography variant=\"h6\" style={{ marginTop: 25 }}>\r\n                Unit Distribution\r\n              </Typography>\r\n              <UnitDistributionChart\r\n                data={dataUnitTypes}\r\n                height={300}\r\n                colors={COLORS}\r\n              />\r\n              <Typography variant=\"h6\" style={{ marginTop: 25 }}>\r\n                Point Distribution\r\n              </Typography>\r\n              <PointDistributionChart data={dataPoints} height={300} colors={COLORS} />\r\n            </>\r\n          )}\r\n        </div>\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useReducer } from 'react';\r\nimport store from 'store';\r\nimport { Box, Typography, Container, FormControl } from '@material-ui/core';\r\nimport unitData from 'assets/dragonRampantData/units.json';\r\nimport fantasticalRulesData from 'assets/dragonRampantData/fantasticalRules.json';\r\nimport rulesData from 'assets/dragonRampantData/rules.json';\r\nimport spellData from 'assets/dragonRampantData/spells.json';\r\nimport ShowFeedback from './ShowFeedback';\r\nimport AppBar from './AppBar';\r\nimport Roster from './Roster';\r\nimport RulesSummary from './RulesSummary';\r\nimport SpellTable from './SpellTable';\r\nimport Statistics from './Statistics/Statistics';\r\nimport { objReduce } from 'helpers/utils';\r\n\r\nconst useData = (type = null) => {\r\n  const data = {\r\n    unitData: unitData,\r\n    unitNames: Object.keys(unitData).slice(1),\r\n    fantasticalRulesData: fantasticalRulesData,\r\n    rulesData: rulesData,\r\n    spellData: spellData\r\n  };\r\n  return type ? data[type] : data;\r\n};\r\n\r\nconst App = () => {\r\n  const data = useData();\r\n\r\n  const initialRoster = {\r\n    name: 'New List',\r\n    nextID: 0,\r\n    units: {},\r\n    unitOrder: []\r\n  };\r\n\r\n  const [roster, setRoster] = useState({ ...initialRoster });\r\n\r\n  const [ui, setUI] = useState({\r\n    viewMode: false,\r\n    editMode: false,\r\n    rulesSummaryExpanded: true,\r\n    spellsExpanded: false,\r\n    statisticsExpanded: true\r\n  });\r\n\r\n  const [forceInputUpdate, setForceInputUpdate] = useReducer(\r\n    state => (state ? 0 : 1),\r\n    0\r\n  );\r\n\r\n  const [feedback, setFeedback] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: ''\r\n  });\r\n\r\n  useEffect(ui => {\r\n    setUI({ ...ui, ...store.get('uiOptions') });\r\n  }, []);\r\n\r\n  const updateUI = newAttributes => {\r\n    setUI({ ...ui, ...newAttributes });\r\n    store.set('uiOptions', { ...ui, ...newAttributes });\r\n  };\r\n\r\n  const setUIOption = (option, value) => {\r\n    setUI({ ...ui, [option]: value });\r\n    store.set('uiOptions', { ...ui, [option]: value });\r\n  };\r\n\r\n  const updateRoster = newAttributes => setRoster({ ...roster, ...newAttributes });\r\n\r\n  const showFeedback = (message, severity) =>\r\n    setFeedback({ open: true, message: message, severity: severity });\r\n\r\n  const reload = () => {\r\n    setRoster({ ...initialRoster });\r\n    setForceInputUpdate();\r\n  };\r\n\r\n  const getSpecialRules = () => {\r\n    let specialRules = new Set();\r\n    for (const unit of Object.values(roster.units)) {\r\n      for (const rule of unit.rules) {\r\n        data.rulesData[data.rulesData[rule]]\r\n          ? specialRules.add(data.rulesData[rule])\r\n          : specialRules.add(rule);\r\n      }\r\n    }\r\n    return [...specialRules].sort();\r\n  };\r\n  const specialRules = getSpecialRules();\r\n\r\n  const totalPoints = objReduce(\r\n    Object.values(roster.units),\r\n    (acc, unit) => acc + unit.points,\r\n    0\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <AppBar\r\n        setUIOption={setUIOption}\r\n        updateUI={updateUI}\r\n        ui={ui}\r\n        roster={roster}\r\n        setRoster={setRoster}\r\n        armyCost={totalPoints}\r\n        showFeedback={showFeedback}\r\n        reload={reload}\r\n        setForceInputUpdate={setForceInputUpdate}\r\n      />\r\n      <Box>\r\n        <FormControl>\r\n          <Typography\r\n            style={{ border: 0, marginBottom: 25, width: '100%' }}\r\n            variant=\"h4\"\r\n            key={forceInputUpdate}\r\n            component=\"input\"\r\n            value={roster.name}\r\n            onChange={e => updateRoster({ name: e.target.value })}\r\n          />\r\n        </FormControl>\r\n        <Roster roster={roster} updateRoster={updateRoster} ui={ui} data={data} />\r\n        <RulesSummary\r\n          specialRules={specialRules}\r\n          rulesSummaryExpanded={ui.rulesSummaryExpanded}\r\n          setUIOption={setUIOption}\r\n        />\r\n        <SpellTable\r\n          specialRules={specialRules}\r\n          spellsExpanded={ui.spellsExpanded}\r\n          setUIOption={setUIOption}\r\n        />\r\n        <Statistics\r\n          armyCost={totalPoints}\r\n          units={roster.units}\r\n          unitData={data.unitData}\r\n          fantasticalRulesData={data.fantasticalRulesData}\r\n          statisticsExpanded={ui.statisticsExpanded}\r\n          setUIOption={setUIOption}\r\n        />\r\n      </Box>\r\n      <ShowFeedback feedback={feedback} setFeetback={setFeedback} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default App;\r\nexport { useData };\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}