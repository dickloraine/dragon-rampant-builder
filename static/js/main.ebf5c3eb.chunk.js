(this["webpackJsonpdragon-rampant-builder"]=this["webpackJsonpdragon-rampant-builder"]||[]).push([[0],{136:function(e){e.exports=JSON.parse('{"Unit":{"name":"Unit","points":0,"stats":{"attack":0,"move":0,"shoot":0,"courage":0,"armour":0,"attackValue":0,"defenceValue":0,"shootValue":0,"shootRange":"-","movement":0,"strengthPoints":0},"rules":{},"options":{},"fantasticalRules":[]},"Elite Riders":{"name":"Elite Riders","type":"mounted","points":6,"stats":{"attack":5,"move":7,"shoot":0,"courage":3,"armour":4,"attackValue":3,"defenceValue":5,"shootValue":0,"shootRange":0,"movement":10,"strengthPoints":6},"rules":["Wild Charge","Counter-charge"],"options":{"Mounted missiles":{"points":2,"remove":["Wild Charge","Counter-charge"],"setStats":{"shoot":6,"shootValue":5,"shootRange":12}},"Level Headed":{"points":2,"remove":["Wild Charge"],"setStats":{"move":5}}},"fantasticalRules":["any"]},"Heavy Riders":{"name":"Heavy Riders","type":"mounted","points":4,"stats":{"attack":5,"move":5,"shoot":0,"courage":4,"armour":3,"attackValue":4,"defenceValue":5,"shootValue":0,"shootRange":0,"movement":10,"strengthPoints":6},"rules":["Counter-charge"],"options":{"Mounted missiles":{"points":1,"setStats":{"shoot":6,"shootValue":5,"shootRange":12}},"Chariots":{"points":2,"add":["May not enter rough terrain"],"setStats":{"armour":4}}},"fantasticalRules":["any"]},"Light Riders":{"name":"Light Riders","type":"mounted","points":4,"stats":{"attack":7,"move":5,"shoot":6,"courage":5,"armour":3,"attackValue":5,"defenceValue":6,"shootValue":5,"shootRange":12,"movement":12,"strengthPoints":6},"rules":["Skirmish","Evade"],"options":{"Short range missiles":{"points":-1,"setStats":{"shootRange":6}}},"fantasticalRules":["exclude","Spellcaster","Wizardlings","Summoner","Cleric","Slayer"]},"Greater Warbeasts":{"name":"Greater Warbeasts","type":"mounted","points":6,"stats":{"attack":5,"move":6,"shoot":0,"courage":3,"armour":4,"attackValue":3,"defenceValue":6,"shootValue":0,"shootRange":0,"movement":10,"strengthPoints":6},"rules":["Ranger","Wild Charge"],"options":{"Flame or Spore Attack":{"points":2,"setStats":{"shoot":6,"shootValue":5,"shootRange":12},"remove":["Wild Charge"]},"Ponderous":{"points":1,"remove":["Wild Charge"]},"Cunning":{"points":2,"setStats":{"defenceValue":5}}},"fantasticalRules":["exclude","Spellcaster","Wizardlings","Summoner","Cleric","Slayer"]},"Lesser Warbeasts":{"name":"Lesser Warbeasts","type":"mounted","points":4,"stats":{"attack":5,"move":6,"shoot":0,"courage":4,"armour":3,"attackValue":4,"defenceValue":6,"shootValue":0,"shootRange":0,"movement":12,"strengthPoints":6},"rules":["Ranger","Wild Charge","Fleet Footed"],"options":{"Flame or Spore Attack":{"points":2,"setStats":{"shoot":6,"shootValue":5,"shootRange":12},"remove":["Wild Charge"]},"Cunning":{"points":2,"setStats":{"defenceValue":5}}},"fantasticalRules":["exclude","Spellcaster","Wizardlings","Summoner","Cleric","Slayer"]},"Elite Foot":{"name":"Elite Foot","type":"foot","points":6,"stats":{"attack":5,"move":5,"shoot":0,"courage":3,"armour":4,"attackValue":3,"defenceValue":4,"shootValue":0,"shootRange":0,"movement":6,"strengthPoints":6},"rules":["Ranger"],"options":{"Missiles":{"points":2,"setStats":{"shoot":6,"shootValue":5,"shootRange":18}}},"fantasticalRules":["any"]},"Heavy Foot":{"name":"Heavy Foot","type":"foot","points":4,"stats":{"attack":6,"move":5,"shoot":0,"courage":4,"armour":3,"attackValue":5,"defenceValue":4,"shootValue":0,"shootRange":0,"movement":6,"strengthPoints":12},"rules":["Wall of Spears"],"options":{"Offensive":{"points":2,"setStats":{"attackValue":4},"remove":["Wall of Spears"]}},"fantasticalRules":["any"]},"Light Foot":{"name":"Light Foot","type":"foot","points":3,"stats":{"attack":6,"move":5,"shoot":0,"courage":4,"armour":2,"attackValue":5,"defenceValue":4,"shootValue":0,"shootRange":0,"movement":8,"strengthPoints":12},"rules":["Wall of Spears"],"options":{"Offensive":{"points":2,"setStats":{"attackValue":4},"remove":["Wall of Spears"]},"Short range missiles":{"points":1,"setStats":{"shoot":6,"shootValue":5,"shootRange":6}},"Mixed Weapons":{"points":2,"setStats":{"shoot":6,"shootValue":5,"shootRange":12},"remove":["Wall of Spears"]}},"fantasticalRules":["any"]},"Bellicose Foot":{"name":"Bellicose Foot","type":"foot","points":4,"stats":{"attack":5,"move":6,"shoot":0,"courage":4,"armour":2,"attackValue":3,"defenceValue":6,"shootValue":0,"shootRange":0,"movement":8,"strengthPoints":12},"rules":["Ranger","Wild Charge","Counter-charge vs. foot","Fleet Footed"],"options":{"Terrifically Shiny Armour":{"points":2,"setStats":{"armour":3}}},"fantasticalRules":["exclude","Spellcaster","Wizardlings","Summoner","Cleric","Slayer"]},"Heavy Missiles":{"name":"Heavy Missiles","type":"foot","points":4,"stats":{"attack":7,"move":6,"shoot":7,"courage":4,"armour":2,"attackValue":6,"defenceValue":5,"shootValue":4,"shootRange":18,"movement":6,"strengthPoints":12},"rules":[],"options":{"Weighty Projectiles":{"points":-1,"setStats":{"shootRange":12}}},"fantasticalRules":["exclude","Spellcaster","Wizardlings","Cleric","Slayer"]},"Light Missiles":{"name":"Light Missiles","type":"foot","points":4,"stats":{"attack":7,"move":6,"shoot":6,"courage":4,"armour":2,"attackValue":6,"defenceValue":5,"shootValue":5,"shootRange":18,"movement":6,"strengthPoints":12},"rules":[],"options":{"Sharpshooter":{"points":2,"setStats":{"shootValue":4}}},"fantasticalRules":["exclude","Spellcaster","Wizardlings","Cleric","Slayer"]},"Scouts":{"name":"Scouts","type":"foot","points":2,"stats":{"attack":7,"move":5,"shoot":7,"courage":5,"armour":1,"attackValue":6,"defenceValue":6,"shootValue":5,"shootRange":12,"movement":8,"strengthPoints":6},"rules":["Hard to target","Skirmish","Evade","Fleet Footed"],"options":{},"fantasticalRules":["exclude","Spellcaster","Wizardlings","Summoner","Exploder","Cleric","Slayer"]},"Ravenous Hordes":{"name":"Ravenous Hordes","type":"foot","points":1,"stats":{"attack":7,"move":6,"shoot":0,"courage":5,"armour":1,"attackValue":6,"defenceValue":6,"shootValue":0,"shootRange":0,"movement":6,"strengthPoints":12},"rules":[],"options":{},"fantasticalRules":["No Feelings","Venomous","Hatred","Fear"]}}')},204:function(e){e.exports=JSON.parse('{"Cleric":{"name":"Cleric","points":4},"Slayer":{"name":"Slayer","points":4},"Exploder":{"name":"Exploder","points":2},"Fear":{"name":"Fear","points":2},"Fearful":{"name":"Fearful","points":-2},"Flying":{"name":"Flying","points":2},"Burrowing":{"name":"Burrowing","points":2},"Hatred":{"name":"Hatred","points":1},"Invisibility":{"name":"Invisibility","points":3},"Enchanted Weapons":{"name":"Enchanted Weapons","points":1},"Blessed Weapons":{"name":"Blessed Weapons","points":2},"Mystical Armour":{"name":"Mystical Armour","points":2},"Spellcaster":{"name":"Spellcaster","points":4},"Wizardlings":{"name":"Wizardlings","points":2},"Summoner":{"name":"Summoner","points":3},"No Feelings":{"name":"No Feelings","points":0},"Unstoppable March of the Dead":{"name":"Unstoppable March of the Dead","points":0},"Venomous":{"name":"Venomous","points":2}}')},253:function(e,t,a){e.exports=a(434)},434:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(15),s=a.n(r),l=a(22),i=a(94),c=a(95),u=a(107),m=a(96),p=a(108),h=a(495),f=a(472),d=a(479),v=a(480),g=a(73),y=a(200),E=a.n(y),b=a(201),R=a.n(b),S=a(202),k=a.n(S),O=a(505),C=a(478),V=a(481),j=Object(f.a)((function(e){return{root:{flexGrow:1,marginBottom:25},title:{flexGrow:1}}}));function w(e){var t=e.ui,a=e.setUIOption,n=j();function r(e){var n=e.option,r=e.Icon,s=e.title;return o.a.createElement(O.a,{title:s},o.a.createElement(C.a,{color:"inherit",onClick:function(){a(n,!t[n])}},o.a.createElement(r,{color:t[n]?"inherit":"disabled"})))}return o.a.createElement("div",{className:n.root},o.a.createElement(d.a,{position:"fixed"},o.a.createElement(v.a,null,o.a.createElement(g.a,{variant:"h5",className:n.title},"Dragon Rampant Army Builder"),o.a.createElement(r,{option:"showStats",Icon:E.a,title:"Show Statblock"}),o.a.createElement(r,{option:"showRules",Icon:R.a,title:"Show Rules"}),o.a.createElement(r,{option:"showOptions",Icon:k.a,title:"Show Options"}),o.a.createElement(g.a,{variant:"h6"},"\xa0\xa0\xa0\xa0Total Points\xa0\xa0",o.a.createElement(V.a,{color:"secondary",size:"small"},o.a.createElement(g.a,{variant:"h6"},t.armyCost))))),o.a.createElement(v.a,null))}var W=a(24),x=a(17),D=a(216),U=a.n(D),F=a(500),P=a(34),A=a(496),M=a(499),B=a(203),I=a.n(B),z=a(497),H=a(498),L=a(102),N=a.n(L),T=a(506),K=a(483),G=a(435),J=a(482),$=a(504);function q(e){var t=e.onClose,a=e.selectedValue,n=e.open,r=e.options,s=e.title;return o.a.createElement($.a,{onClose:function(){t(a)},open:n},o.a.createElement(J.a,null,s),o.a.createElement(K.a,null,r.map((function(e){return o.a.createElement(G.a,{button:!0,onClick:function(){return function(e){t(e)}(e)},key:e},e)}))))}function Q(e){var t=e.name,a=e.options,n=e.points,r=e.onClose,s=o.a.useState(!1),l=Object(P.a)(s,2),i=l[0],c=l[1];return o.a.createElement("div",null,o.a.createElement(g.a,{variant:"h5",onClick:function(){return c(!0)}},o.a.createElement(T.a,{label:n,color:"primary"}),"\xa0\xa0",t,o.a.createElement(N.a,null)),o.a.createElement(q,{selectedValue:t,open:i,onClose:function(e){c(!1),e!==t&&r(e)},options:a,title:"Choose unit type"}))}var X=a(485),Y=a(484),Z=a(486),_=a(487),ee=a(503);function te(e){var t=e.unit,a=e.optionsData,n=e.onChange;if(!a||!Object.keys(a).length)return o.a.createElement("div",null);var r=function(e){return function(a){var o=Object(x.a)({},t);a.target.checked?o.options=[].concat(Object(W.a)(o.options),[e]):o.options=o.options.filter((function(t){return t!==e})),n(o)}};return o.a.createElement(Y.a,{component:"fieldset",style:{marginTop:10}},o.a.createElement(X.a,{component:"legend"},"Options"),o.a.createElement(Z.a,null,Object.keys(a).map((function(e){return o.a.createElement(_.a,{control:o.a.createElement(ee.a,{onChange:r(e)}),label:o.a.createElement(g.a,null,e," ",o.a.createElement(g.a,{color:"secondary",component:"span"},"@",a[e].points)),key:e})}))))}var ae=a(488),ne=a(501),oe=a(489);var re=function(e){var t=e.unitData,a=e.onChange,n=e.fantasticalRulesData,r=e.unit,s=o.a.useState(!1),l=Object(P.a)(s,2),i=l[0],c=l[1],u=t.fantasticalRules;if(!u||!u.length)return o.a.createElement("div",null);if("any"===u[0]&&(u=Object.keys(n)),"exclude"===u[0]){var m=u.slice(1);u=Object.keys(n);var p=!0,h=!1,f=void 0;try{for(var d,v=function(){var e=d.value;u=u.filter((function(t){return t!==e}))},y=m[Symbol.iterator]();!(p=(d=y.next()).done);p=!0)v()}catch(b){h=!0,f=b}finally{try{p||null==y.return||y.return()}finally{if(h)throw f}}}var E=function(){return c(!0)};return o.a.createElement("div",null,o.a.createElement(X.a,{onClick:E,component:"legend"},"Fantastical Rules ",o.a.createElement(N.a,null)),r.fantasticalRules&&r.fantasticalRules.length>0&&r.fantasticalRules.map((function(e){return o.a.createElement("div",{key:e},o.a.createElement(_.a,{control:o.a.createElement(ee.a,{checked:!0,onClick:function(){return a(Object(x.a)({},r,{fantasticalRules:Object(W.a)(r.fantasticalRules.filter((function(t){return t!==e})))}))}}),label:o.a.createElement(g.a,null,e," ",o.a.createElement(g.a,{color:"secondary",component:"span"},"@",n[e].points,"}")),key:e}))})),o.a.createElement(Y.a,{style:{marginTop:10,width:0,height:0}},o.a.createElement(ne.a,{open:i,onClose:function(){return c(!1)},onOpen:E,IconComponent:function(){return o.a.createElement(F.a,null)},multiple:!0,value:r.fantasticalRules,onChange:function(e){return a(Object(x.a)({},r,{fantasticalRules:Object(W.a)(e.target.value)}))},input:o.a.createElement(ae.a,null),renderValue:function(){return" "}},u.map((function(e){return o.a.createElement(oe.a,{key:e,value:e},r.fantasticalRules.indexOf(e)<0&&o.a.createElement(g.a,null,e," ",o.a.createElement(g.a,{color:"secondary",component:"span"},"@",n[e].points)),r.fantasticalRules.indexOf(e)>-1&&o.a.createElement(g.a,{color:"primary"},e," ",o.a.createElement(g.a,{color:"secondary",component:"span"},"@",n[e].points)))})))))},se=a(491),le=a(492),ie=a(494),ce=a(490),ue=a(493);function me(e){var t=e.stats,a=t.shoot?"".concat(t.shoot,"+"):"-",n=t.shoot?"".concat(t.shootValue,"+/").concat(t.shootRange,'"'):"-";return o.a.createElement(ce.a,null,o.a.createElement(se.a,{size:"small"},o.a.createElement(le.a,null,o.a.createElement(ue.a,null,o.a.createElement(ie.a,null,"Attack"),o.a.createElement(ie.a,null,t.attack,"+"),o.a.createElement(ie.a,null,"Attack Value"),o.a.createElement(ie.a,null,t.attackValue,"+")),o.a.createElement(ue.a,null,o.a.createElement(ie.a,null,"Move"),o.a.createElement(ie.a,null,t.move,"+"),o.a.createElement(ie.a,null,"Defence Value"),o.a.createElement(ie.a,null,t.defenceValue,"+")),o.a.createElement(ue.a,null,o.a.createElement(ie.a,null,"Shoot"),o.a.createElement(ie.a,null,a),o.a.createElement(ie.a,null,"Shoot Value"),o.a.createElement(ie.a,null,n)),o.a.createElement(ue.a,null,o.a.createElement(ie.a,null,"Courage"),o.a.createElement(ie.a,null,t.courage,"+"),o.a.createElement(ie.a,null,"Movement"),o.a.createElement(ie.a,null,t.movement,'"')),o.a.createElement(ue.a,null,o.a.createElement(ie.a,null,"Armour"),o.a.createElement(ie.a,null,t.armour),o.a.createElement(ie.a,null,"Strength Points"),o.a.createElement(ie.a,null,t.strengthPoints)))))}function pe(e){var t=e.rules;return t&&t.length?o.a.createElement(h.a,null,o.a.createElement(g.a,{variant:"h6",style:{marginTop:10}},"Special Rules"),o.a.createElement(K.a,null,t.map((function(e){return o.a.createElement(G.a,{key:e},e)})))):o.a.createElement("div",null)}var he=function(e){e.id;var t=e.unit,a=e.updateUnit,n=e.updateArmyCost,r=e.data,s=e.setUnit,i=e.removeUnit,c=e.ui;function u(e){!function(e){var o=t.points;a({points:e}),n(e-o)}(r.unitData[e].points),s(e)}function m(e){var t=r.unitData[e.name],o=e.points;e=Object(x.a)({},t,{options:Object(W.a)(e.options),fantasticalRules:Object(W.a)(e.fantasticalRules)});var s=t.points,i=!0,c=!1,u=void 0;try{for(var m,p=e.options[Symbol.iterator]();!(i=(m=p.next()).done);i=!0){var h=m.value;if(s+=(h=t.options[h]).points,h.setStats)for(var f=0,d=Object.entries(h.setStats);f<d.length;f++){var v=Object(P.a)(d[f],2),g=v[0],y=v[1];e=Object(x.a)({},e,{stats:Object(x.a)({},e.stats,Object(l.a)({},g,y))})}if(h.add){var E=!0,b=!1,R=void 0;try{for(var S,k=h.add[Symbol.iterator]();!(E=(S=k.next()).done);E=!0){var O=S.value;e.rules=[].concat(Object(W.a)(e.rules),[O])}}catch(H){b=!0,R=H}finally{try{E||null==k.return||k.return()}finally{if(b)throw R}}}if(h.remove){var C=!0,V=!1,j=void 0;try{for(var w,D=function(){var t=w.value;e.rules=e.rules.filter((function(e){return e!==t}))},U=h.remove[Symbol.iterator]();!(C=(w=U.next()).done);C=!0)D()}catch(H){V=!0,j=H}finally{try{C||null==U.return||U.return()}finally{if(V)throw j}}}}}catch(H){c=!0,u=H}finally{try{i||null==p.return||p.return()}finally{if(c)throw u}}var F=!0,A=!1,M=void 0;try{for(var B,I=e.fantasticalRules[Symbol.iterator]();!(F=(B=I.next()).done);F=!0){var z=B.value;s+=(z=r.fantasticalRulesData[z]).points,e.rules=[].concat(Object(W.a)(e.rules),[z.name])}}catch(H){A=!0,M=H}finally{try{F||null==I.return||I.return()}finally{if(A)throw M}}e=Object(x.a)({},e,{points:s}),n(s-o),a(Object(x.a)({},e))}return o.a.createElement(A.a,{variant:"outlined",style:{marginBottom:25,width:400}},o.a.createElement(z.a,{title:o.a.createElement(Q,{name:t.name,onClose:function(e){return u(e)},options:r.unitNames,points:t.points}),action:o.a.createElement(H.a,{onClick:function(){return i()}},o.a.createElement(I.a,null))}),o.a.createElement(M.a,null,c.showStats&&o.a.createElement(me,{stats:t.stats}),c.showRules&&o.a.createElement(pe,{rules:t.rules}),c.showOptions&&o.a.createElement(te,{onChange:function(e){return m(e)},optionsData:r.unitData[t.name].options,unit:t}),c.showOptions&&o.a.createElement(F.a,null,o.a.createElement(re,{onChange:function(e){return m(e)},unitData:r.unitData[t.name],fantasticalRulesData:r.fantasticalRulesData,unit:t}))))},fe=a(136),de=a(204),ve=a(19);function ge(e,t){var a={};for(var n in e)t(e[n],n)&&(a=Object(x.a)({},a,Object(l.a)({},n,e[n])));return a}var ye=function(e,t,a){return Object.entries(e).reduce((function(e,a){var n=Object(P.a)(a,2),o=n[0],r=n[1];return t(e,r,o)}),a)};function Ee(e){var t=ye(e.units,(function(t,a){return a.options.reduce((function(t,n){return t+e.unitData[a.name].options[n].points}),t)}),0),a=ye(e.units,(function(t,a){return a.fantasticalRules.reduce((function(t,a){return t+e.fantasticalRulesData[a].points}),t)}),0),n=["#8884d8","#82ca9d","#FF8042"],r=e.armyCost,s=Object.keys(e.units).length,l=ge(e.units,(function(e){return"mounted"===e.type})),i=ge(e.units,(function(e){return"foot"===e.type})),c=ge(e.units,(function(e){return e.stats.shoot>0})),u=ye(e.units,(function(t,a){return t+e.unitData[a.name].points}),0),m=[{name:"Mounted",Units:Object.keys(l).length,Points:ye(l,(function(e,t){return e+t.points}),0)},{name:"Foot",Units:Object.keys(i).length,Points:ye(i,(function(e,t){return e+t.points}),0)},{name:"Ranged",Units:Object.keys(c).length,Points:ye(c,(function(e,t){return e+t.points}),0)}],p=[{name:"Units",value:u},{name:"Options",value:t},{name:"Fantastical Rules",value:a}];return o.a.createElement(A.a,{variant:"outlined",style:{marginTop:25,marginBottom:25}},o.a.createElement(z.a,{title:"Statistics"}),o.a.createElement(M.a,null,o.a.createElement(T.a,{label:r+" Points",color:"primary",style:{marginRight:25,marginBottom:25}}),o.a.createElement(T.a,{label:s+" Units",color:"primary",style:{marginRight:25,marginBottom:25}}),o.a.createElement(T.a,{label:r/s+" Points per unit",color:"primary",style:{marginRight:25,marginBottom:25}}),o.a.createElement(g.a,{variant:"h6",style:{marginTop:25}},"Unit Distribution"),o.a.createElement(ve.b,{width:500,height:300,data:m,margin:{top:20,right:30,left:20,bottom:5}},o.a.createElement(ve.c,{strokeDasharray:"3 3"}),o.a.createElement(ve.j,{dataKey:"name"}),o.a.createElement(ve.k,null),o.a.createElement(ve.i,null),o.a.createElement(ve.f,null),o.a.createElement(ve.a,{dataKey:"Units",fill:n[0],minPointSize:3},o.a.createElement(ve.e,{dataKey:"Units",position:"top"})),o.a.createElement(ve.a,{dataKey:"Points",fill:n[1],minPointSize:3},o.a.createElement(ve.e,{dataKey:"Points",position:"top"}))),u>0&&o.a.createElement("div",null,o.a.createElement(g.a,{variant:"h6",style:{marginTop:25}},"Point Distribution"),o.a.createElement(ve.h,{width:800,height:400},o.a.createElement(ve.g,{data:p,dataKey:"value",label:Re,labelLine:!1,outerRadius:80},p.map((function(e,t){return o.a.createElement(ve.d,{key:e,fill:n[t]})}))),o.a.createElement(ve.i,null),o.a.createElement(ve.f,null)))))}var be=Math.PI/180,Re=function(e){var t=e.cx,a=e.cy,n=e.midAngle,r=e.innerRadius,s=e.outerRadius,l=e.percent,i=r+.5*(s-r),c=t+i*Math.cos(-n*be),u=a+i*Math.sin(-n*be);return o.a.createElement("text",{x:c,y:u,fill:"black",textAnchor:c>t?"start":"end",dominantBaseline:"central"},"".concat((100*l).toFixed(0),"%"))},Se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={nextID:0,units:{},unitOrder:[],data:{unitData:fe,unitNames:Object.keys(fe).slice(1),fantasticalRulesData:de}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"addUnit",value:function(){var e=this.state.nextID;this.setState({nextID:e+1,units:Object(x.a)({},this.state.units,Object(l.a)({},e,Object(x.a)({},this.state.data.unitData.Unit,{options:[],fantasticalRules:[]}))),unitOrder:[].concat(Object(W.a)(this.state.unitOrder),[e])})}},{key:"setUnit",value:function(e,t){this.setState({units:Object(x.a)({},this.state.units,Object(l.a)({},e,Object(x.a)({},this.state.data.unitData[t],{options:[],fantasticalRules:[]})))})}},{key:"removeUnit",value:function(e){var t=Object(x.a)({},this.state.units),a=t[e].points;delete t[e],this.props.updateArmyCost(-a),this.setState({units:Object(x.a)({},t),unitOrder:this.state.unitOrder.filter((function(t){return t!==e}))})}},{key:"updateUnit",value:function(e,t){this.setState({units:Object(x.a)({},this.state.units,Object(l.a)({},e,Object(x.a)({},this.state.units[e],{},t)))})}},{key:"render",value:function(){var e=this;return o.a.createElement(F.a,null,!Object.keys(this.state.units).length&&o.a.createElement(g.a,{variant:"h6",style:{marginBottom:25}},"Click the button, to add your first unit!"),o.a.createElement(F.a,{display:"flex",flexDirection:"row",flexWrap:"wrap"},this.state.unitOrder.map((function(t){return o.a.createElement(he,{id:t,key:t,unit:e.state.units[t],updateUnit:function(a){return e.updateUnit(t,a)},updateArmyCost:e.props.updateArmyCost,removeUnit:function(){return e.removeUnit(t)},setUnit:function(a){return e.setUnit(t,a)},data:e.state.data,ui:e.props.ui})})),o.a.createElement(V.a,{color:"secondary",style:{marginLeft:25,marginBottom:25},onClick:function(){return e.addUnit()}},o.a.createElement(U.a,null))),o.a.createElement(Ee,{armyCost:this.props.armyCost,units:this.state.units,unitData:this.state.data.unitData,fantasticalRulesData:this.state.data.fantasticalRulesData}))}}]),t}(o.a.Component),ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={armyCost:0,showStats:!0,showRules:!0,showOptions:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setUIOption",value:function(e,t){this.setState(Object(l.a)({},e,t))}},{key:"updateArmyCost",value:function(e){this.setState({armyCost:this.state.armyCost+e})}},{key:"render",value:function(){var e=this;return o.a.createElement(h.a,null,o.a.createElement(w,{setUIOption:function(t,a){return e.setUIOption(t,a)},ui:this.state}),o.a.createElement(Se,{ui:this.state,armyCost:this.state.armyCost,updateArmyCost:function(t){return e.updateArmyCost(t)}}))}}]),t}(o.a.Component),Oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(o.a.createElement(ke,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dragon-rampant-builder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/dragon-rampant-builder","/service-worker.js");Oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ce(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ce(t,e)}))}}()}},[[253,1,2]]]);
//# sourceMappingURL=main.ebf5c3eb.chunk.js.map